This website was created with [Docusaurus](https://docusaurus.io/).

# What's In This Document

* [Get Started in 5 Minutes](#get-started-in-5-minutes)
* [Directory Structure](#directory-structure)
* [Editing Content](#editing-content)
* [Full Docusaurus Documentation](#full-documentation)

# Get Started in 5 Minutes

1. First, run script as detailled in the previous README to have the full wiki ready

2. Make sure all the dependencies for the website are installed:

```sh
# Install dependencies
$ npm
```
3. Run your dev server:

```sh
# Start the site
$ npm start
```

## Directory Structure

Your project file structure should look something like this

```
my-docusaurus/
  docs/
    <autofilled during Travis CI build>
    <files downloaded from https://github.com/gama-platform/gama/wiki >
  website/
    blog/
      ...
      YYYY-MM-DD-short-url-title-here.md.template
      ...
    core/
      Footer.js
    node_modules/
    pages/
      en/
        index.js        # Landing pages -> Fully configured by siteConfig.js
        download.js     # Download pages -> Mainly configured by siteConfig.js
        release-1.8.js  # static page
        search.js       # endpoint used by the GAMA software
    static/
      css/
      img/
      database/         # filled by Travis CI
      js/
      .travis.yml
    package.json
    sidebar.json        # generated by Travis CI
    siteConfig.js       # Website's parameters
```

# Editing Content


You saw an error on the website and you want to correct it. The first thing is to check which page should be updated !

## Editing website parameters

The website have a big config file. This file is fully documented and will configure many things from the website (logo, title, etc etc etc). 

You can find it here : _\<project>/website/siteConfig.js_

## Editing `wiki`

Let's start by taking a look at the URL. For example :

```
https://gama-platform.github.io/wiki/Home
                                ^^^^
```

If in the URL you have the keyword `wiki`, you should modify the _GAMA wiki_ and the correction will appear in the website after the next build done by Travis CI.

To keep the same example, the file to edit will be here :

```
https://gama-platform.github.io/wiki/Home
                                ^^^^ ^^^^
=FILE-TO-EDIT=> https://github.com/gama-platform/gama/wiki/Home
                                                      ^^^^ ^^^^
```

## Editing blog

### What is the blog for ?

The idea with the blog is to provide an easy to do pages on the website (it's some simple Markdown files) to communicate big news about GAMA (events, release, etc). 

To have the greater impact and automatically feed gama's social platforms, when an article is created, it is directly shared on a GAMA RSS feed ([atom](https://gama-platform.github.io/blog/atom) and [rss v2](https://gama-platform.github.io/blog/feed)) and on the [Gama-Platform's Facebook Pages](https://www.facebook.com/GamaPlatform/) (thanks to IFTTT.com).

So, here's what to do to participate on the blog part of the website :

First of all, if you want to edit or create a now blog post, you'll have to move to the [blog part of the repository (website/blog/)](https://github.com/gama-platform/gama-platform.github.io/tree/sources/website/blog).

### I want to create a new article

If you want to create an article, the simpliest way is to copy and edit the [template](https://github.com/gama-platform/gama-platform.github.io/blob/sources/website/blog/YYYY-MM-DD-short-url-title-here.md.template) in the website/blog/ folder.

Here you'll have 3 big points to mind : 
* The title of your markdown file
* The _header_ in the markdown file
* The content of the article

#### The title

Want you'll clone the template file, you'll have to rename it following the pattern it describe : YEAR-MONTH-DAY-url.md (do not forget to remove the extension `.template` at the end). 

This file name will be used for the published date displayed on the article post and to create the URL path by the Docusaurus engine. For example :

```
website/blog/2019-11-15-gama-days-2020.md
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
=> https://gama-platform.github.io/blog/2019/11/15/gama-days-2020
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
```

#### The _header_

The template folder have a pre-filled header with comments explaining every parameters.

If you want to create a simple page, you'll just have to edit the parameter `unlisted` (l. 8) to publish the article and `title` (l. 10) to set the title of your article (which isn't related to the name of the file).

> To read the full blog documentation, please go and check the official [docusaurus documentation of that part](https://docusaurus.io/docs/en/adding-blog).

## Editing site specific pages

If you don't have the `wiki` keyword, the page you want to edit is probably a React page (like the *download* page or the *index* page).

This pages are located in _\<project>/website/pages/_ and you'll need to have some basics in React to edit pages.

# Adding Content

## Adding items to the wiki's sidebar

The wiki is generated from the [_GAMA wiki_](https://github.com/gama-platform/gama/wiki). So if you want to add an item in site's wiki, you should add it in the _GAMA_'s wiki.

## Adding items to the site's sidebar

The sidebar is generated from the [_GAMA wiki_](https://github.com/gama-platform/gama/wiki). So if you want to add an item in site's sidebar, you should add it in the _GAMA wiki_'s sidebar.

## Adding items to the site's top navigation bar

1. Add links to docs, custom pages or external links by editing the headerLinks field of `website/siteConfig.js`:

`website/siteConfig.js`
```javascript
{
  headerLinks: [
    ...
    /* you can add docs */
    { doc: 'my-examples', label: 'Examples' },
    /* you can add custom pages */
    { page: 'help', label: 'Help' },
    /* you can add external links */
    { href: 'https://github.com/facebook/Docusaurus', label: 'GitHub' },
    ...
  ],
  ...
}
```

For more information about the navigation bar, click [here](https://docusaurus.io/docs/en/navigation)

## Adding custom pages

1. Docusaurus uses React components to build pages. The components are saved as .js files in `website/pages/en`:
1. If you want your page to show up in your navigation header, you will need to update `website/siteConfig.js` to add to the `headerLinks` element:

`website/siteConfig.js`
```javascript
{
  headerLinks: [
    ...
    { page: 'my-new-custom-page', label: 'My New Custom Page' },
    ...
  ],
  ...
}
```

For more information about custom pages, click [here](https://docusaurus.io/docs/en/custom-pages).

# Full Documentation

Full documentation can be found on the [website](https://docusaurus.io/).
