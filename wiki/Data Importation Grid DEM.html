<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>ASCII File to DEM Representation · GAMA-Platform</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="[//]: # (keyword|operator_dem)"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="ASCII File to DEM Representation · GAMA-Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://gama-platform.github.io/"/><meta property="og:description" content="[//]: # (keyword|operator_dem)"/><meta property="og:image" content="https://gama-platform.github.io//resources/images/general/GamaPlatform.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://gama-platform.github.io//resources/images/general/GamaPlatform.png"/><link rel="shortcut icon" href="/img/gama-logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://gama-platform.github.io/blog/atom.xml" title="GAMA-Platform Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://gama-platform.github.io/blog/feed.xml" title="GAMA-Platform Blog RSS Feed"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.4/fuse.min.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/searchEngine.js"></script><script type="text/javascript" src="/js/dark.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/gama-logo_white.png" alt="GAMA-Platform"/><h2 class="headerTitleWithLogo">GAMA-Platform</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/wiki/Home" target="_self">Documentation</a></li><li class=""><a href="/wiki/Tutorials" target="_self">Tutorials</a></li><li class=""><a href="/download" target="_self">Download</a></li><li class=""><a href="/wiki/Contribute" target="_self">Contribute</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li><li class=""><a target="_self"></a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">ASCII File to DEM Representation</h1></header><article><div><span><p><em>Author : Arnaud Grignard</em></p>
<p>Model to show how to import a ASCII File to make a DEM Representation and apply a Texture on it. In this model, three experiments are presented : DEM to show the grid elevation using the ASCII File as data for the height of the cells, and showing different 3D displays. GridDEMComplete shows more displays with the three of the previous experiment, the grid of the cells in a 2D Display, with the Elevation but without triangulation, and the grid with text values to show the content of the ASCII used by the cells. GraphicDEMComplete shows the use of the z_factor to amplify or reduces the difference between the z values of a Dem geometry.</p>
<p>Code of the model :</p>
<pre><code class="hljs">
<span class="hljs-builtin">model</span> gridloading

global {
    <span class="hljs-literal">file</span> grid_data &lt;- <span class="hljs-literal">file</span>(<span class="hljs-string">"../includes/DEM-Vulcano/vulcano_50.asc"</span>);
    <span class="hljs-literal">file</span> dem <span class="hljs-symbol">parameter:</span> <span class="hljs-string">'DEM'</span> &lt;- <span class="hljs-literal">file</span>(<span class="hljs-string">'../includes/DEM-Vulcano/DEM.png'</span>);
    <span class="hljs-literal">file</span> texture <span class="hljs-symbol">parameter:</span> <span class="hljs-string">'Texture'</span> &lt;- <span class="hljs-literal">file</span>(<span class="hljs-string">'../includes/DEM-Vulcano/Texture.png'</span>);
    <span class="hljs-literal">geometry</span> shape &lt;- envelope(200);
    init
    {
        <span class="hljs-keyword">ask</span> cell
        {
            <span class="hljs-literal">float</span> r;
            <span class="hljs-literal">float</span> g;
            <span class="hljs-literal">float</span> b;
            <span class="hljs-keyword">if</span>(grid_value&lt;20)
            {
                r&lt;- 76+(26*(grid_value-7)/13);
                g&lt;- 153-(51*(grid_value-7)/13);
                b&lt;-0.0;
            }
            <span class="hljs-keyword">else</span>
            {
                r&lt;- 102+(122*(grid_value-20)/19);
                g&lt;- 51+(173*(grid_value-20)/19);
                b&lt;- 224*(grid_value-20)/19;
            }
            self.color&lt;-<span class="hljs-literal">rgb</span>(r,g,b);
        }
    }
}

grid cell <span class="hljs-symbol">file:</span> grid_data {
    <span class="hljs-literal">rgb</span> color;
    <span class="hljs-builtin">reflex</span> decreaseValue {
        grid_value &lt;- grid_value  + rnd (0.2) - 0.1;
    }
}

<span class="hljs-builtin">experiment</span> DEM <span class="hljs-symbol">type:</span> gui {
    <span class="hljs-keyword">output</span> {

        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color cells (if defined otherwise in black)</span>
        <span class="hljs-keyword">display</span> gridWithElevationTriangulated <span class="hljs-symbol">type:</span> opengl <span class="hljs-symbol">autosave:</span> true{ 
            grid cell <span class="hljs-symbol">elevation:</span> true <span class="hljs-symbol">triangulation:</span> true ;
        }

        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color of cells as a gray value corresponding to grid_value / maxZ *255</span>
        <span class="hljs-keyword">display</span> gridGrayScaledTriangulated <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">elevation:</span> true <span class="hljs-symbol">grayscale:</span> true <span class="hljs-symbol">triangulation:</span> true;
        }

        <span class="hljs-comment">//Display the textured grid in 3D with the cell altitude corresponding to its grid_value.               </span>
        <span class="hljs-keyword">display</span> gridTextured <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">texture:</span> texture <span class="hljs-symbol">text:</span> false <span class="hljs-symbol">triangulation:</span> true <span class="hljs-symbol">elevation:</span> true;
        }
    }

}

<span class="hljs-builtin">experiment</span> GridDEMComplete <span class="hljs-symbol">type:</span> gui {
    <span class="hljs-keyword">output</span> {

    <span class="hljs-comment">//Display the grid on a plan with cell color (if defined otherwise in black)</span>
        <span class="hljs-keyword">display</span> grid <span class="hljs-symbol">type:</span> opengl { <span class="hljs-comment">//Same as in java2D</span>
            grid cell;
        }

        <span class="hljs-comment">//Display the grid in 3D with the cell altitude corresponding to its grid_value and the color cells (if defined otherwise in black)</span>
        <span class="hljs-keyword">display</span> gridWithElevation <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">elevation:</span> true;
        }

        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color cells (if defined otherwise in black)</span>
        <span class="hljs-keyword">display</span> gridWithElevationTriangulated <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">elevation:</span> true <span class="hljs-symbol">triangulation:</span> true ;
        }

        <span class="hljs-comment">//Display the grid in 3D with the cell altitude corresponding to its grid_value and the color of cells as a gray value corresponding to grid_value / maxZ *255</span>
        <span class="hljs-keyword">display</span> gridGrayScaled <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">elevation:</span> true <span class="hljs-symbol">grayscale:</span> true;
        }
        <span class="hljs-comment">//Display the grid triangulated in 3D with the cell altitude corresponding to its grid_value and the color of cells as a gray value corresponding to grid_value / maxZ *255</span>
        <span class="hljs-keyword">display</span> gridGrayScaledTriangulated <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">elevation:</span> true <span class="hljs-symbol">grayscale:</span> true <span class="hljs-symbol">triangulation:</span> true;
        }

        <span class="hljs-comment">//Display the textured grid in 3D with the cell altitude corresponding to its grid_value.               </span>
        <span class="hljs-keyword">display</span> gridTextured <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">texture:</span> texture <span class="hljs-symbol">text:</span> false <span class="hljs-symbol">triangulation:</span> false <span class="hljs-symbol">elevation:</span> true;
        }

        <span class="hljs-comment">//Display the textured triangulated grid in 3D with the cell altitude corresponding to its grid_value.</span>
        <span class="hljs-keyword">display</span> gridTexturedTriangulated <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">texture:</span> texture <span class="hljs-symbol">text:</span> false <span class="hljs-symbol">triangulation:</span> true <span class="hljs-symbol">elevation:</span> true;
        }
        <span class="hljs-keyword">display</span> gridWithText <span class="hljs-symbol">type:</span> opengl { 
            grid cell <span class="hljs-symbol">text:</span> true <span class="hljs-symbol">elevation:</span> true <span class="hljs-symbol">grayscale:</span> true;
        }
    }

}

<span class="hljs-builtin">experiment</span> GraphicDEMComplete <span class="hljs-symbol">type:</span> gui {
    <span class="hljs-keyword">output</span> {
        <span class="hljs-keyword">display</span> VulcanoTexturedScaled <span class="hljs-symbol">type:</span> opengl <span class="hljs-symbol">draw_env:</span> false { 
            <span class="hljs-keyword">graphics</span> <span class="hljs-string">'GraphicPrimitive'</span> {
                <span class="hljs-keyword">draw</span> dem(dem, texture, 0.1);
            }
        } 
        <span class="hljs-keyword">display</span> VulcanoDEMScaled <span class="hljs-symbol">type:</span> opengl <span class="hljs-symbol">draw_env:</span> false { 
            <span class="hljs-keyword">graphics</span> <span class="hljs-string">'GraphicPrimitive'</span> {
                <span class="hljs-keyword">draw</span> dem(dem, 0.1);
            }
        } 
        <span class="hljs-keyword">display</span> VulcanoTextured <span class="hljs-symbol">type:</span> opengl <span class="hljs-symbol">draw_env:</span> false { 
            <span class="hljs-keyword">graphics</span> <span class="hljs-string">'GraphicPrimitive'</span> {
                <span class="hljs-keyword">draw</span> dem(dem, texture);
            }
        } 
        <span class="hljs-keyword">display</span> VulcanoDEM <span class="hljs-symbol">type:</span> opengl <span class="hljs-symbol">draw_env:</span> false { 
            <span class="hljs-keyword">graphics</span> <span class="hljs-string">'GraphicPrimitive'</span> {
                <span class="hljs-keyword">draw</span> dem(dem);
            }
        }
    }
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap" style="margin-bottom:0"><a href="/" class="nav-home"><img src="/img/gama-logo.png" alt="GAMA-Platform" width="66" height="58"/></a><div><h5>Networks</h5><a href="https://github.com/gama-platform"><i class="fab fa-github"></i> GitHub</a><a href="https://www.facebook.com/GamaPlatform/" target="_blank"><i class="fab fa-facebook"></i> Facebook</a><a href="https://twitter.com/gamaplatform" target="_blank"><i class="fab fa-twitter"></i> Twitter</a><a href="https://www.linkedin.com/company/gama-platform" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a><a href="https://www.youtube.com/channel/UCWJ1kWGDDI-9u2f2uD0gcaQ" target="_blank"><i class="fab fa-youtube"></i> Youtube</a><a href="https://gama-platform.github.io/blog/feed" target="_blank"><i class="fa fa-rss"></i> Blog RSS</a></div><div style="flex-grow:2"><h5>Mailing list</h5><a href="https://groups.google.com/forum/#!forum/gama-platform" target="_blank"><i class="fas fa-envelope"></i> For Users<br/>gama-platform@googlegroups.com</a><a href="https://groups.google.com/forum/#!forum/gama-dev" target="_blank"><i class="fas fa-envelope"></i> For Developers<br/>gama-dev@googlegroups.com</a></div><div style="color:hsla(0,0%,100%,.4);flex-grow:3"><h5>License</h5><p>Copyright (C) - 2020 GAMA-Platform.</p><p>Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.</p><p>A copy of the license is included <a href="https://github.com/gama-platform/gama/wiki/LICENSE.md" style="display:initial">here</a>, in the repository of the wiki content.</p></div></section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>window.fbAsyncInit = function() {FB.init({appId:'524881055001796',xfbml:true,version:'v2.7'});};(function(d, s, id){var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) {return;}js = d.createElement(s); js.id = id;js.src = '//connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js, fjs);}(document, 'script','facebook-jssdk'));
                </script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'undefined',
                indexName: 'undefined',
                inputSelector: '#search_input_react'
              });
            </script></body></html>