"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[25014],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),p=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),h=i,d=u["".concat(o,".").concat(h)]||u[h]||m[h]||s;return n?a.createElement(d,r(r({ref:t},c),{},{components:n})):a.createElement(d,r({ref:t},c))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,r=new Array(s);r[0]=h;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[u]="string"==typeof e?e:i,r[1]=l;for(var p=2;p<s;p++)r[p]=n[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},51827:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>p,toc:()=>u});var a=n(87462),i=n(63366),s=(n(67294),n(3905)),r=["components"],l={title:"Regular species"},o=void 0,p={unversionedId:"RegularSpecies",id:"version-1.8.2-RC2/RegularSpecies",title:"Regular species",description:"[//]: # (startConcept|regular_species)",source:"@site/versioned_docs/version-1.8.2-RC2/RegularSpecies.md",sourceDirName:".",slug:"/RegularSpecies",permalink:"/wiki/1.8.2-RC2/RegularSpecies",draft:!1,editUrl:"https://github.com/gama-platform/gama/wiki/RegularSpecies/_edit",tags:[],version:"1.8.2-RC2",frontMatter:{title:"Regular species"},sidebar:"main",previous:{title:"The global species",permalink:"/wiki/1.8.2-RC2/GlobalSpecies"},next:{title:"Defining actions and behaviors",permalink:"/wiki/1.8.2-RC2/DefiningActionsAndBehaviors"}},c={},u=[{value:"Index",id:"index",level:2},{value:"Declaration",id:"declaration",level:2},{value:"Built-in attributes",id:"built-in-attributes",level:2},{value:"Species built-in Attributes",id:"species-built-in-attributes",level:2},{value:"Built-in actions",id:"built-in-actions",level:2},{value:"The init statement",id:"the-init-statement",level:2},{value:"The aspect statement",id:"the-aspect-statement",level:2},{value:"Instantiate an agent",id:"instantiate-an-agent",level:2}],m={toc:u},h="wrapper";function d(e){var t=e.components,n=(0,i.Z)(e,r);return(0,s.kt)(h,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,'Regular species are composed of attributes, actions, reflex, aspect, etc... They describe the behavior of our agents. You can instantiate as much as you want agents from a regular species, and you can define as much as you want different regular species. You can see a species as a "class" in OOP.'),(0,s.kt)("h2",{id:"index"},"Index"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#declaration"},"Declaration")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#built-in-attributes"},"Built-in Attributes")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#species-built-in-attributes"},"Species built-in Attributes")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#built-in-actions"},"Built-in Actions")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#the-init-statement"},"The init statement")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#the-aspect-statement"},"The aspect statement")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"#instantiate-an-agent"},"Instantiate an agent"))),(0,s.kt)("h2",{id:"declaration"},"Declaration"),(0,s.kt)("p",null,"The regular species declaration starts with the keyword ",(0,s.kt)("inlineCode",{parentName:"p"},"species")," followed by the name (or followed by the facet ",(0,s.kt)("inlineCode",{parentName:"p"},"name:"),") :"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"species my_specie {\n}\n")),(0,s.kt)("p",null,'Directly in the "species" scope, you have to declare all your attributes (or "member" in OOP). You declare them exactly the way you declare basic variables. Those attributes are accessible wherever you want inside the species scope.'),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"species my_specie {\n    int variableA;\n}\n")),(0,s.kt)("h2",{id:"built-in-attributes"},"Built-in attributes"),(0,s.kt)("p",null,"As for the global species, some attributes exist already by default in a regular species. Here is the list of built-in attributes:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"name")," (type: string) is used to name your agent. By default, the name is equal to the name of your species + an incremental number. This name is the one visible on the species inspector."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"location")," (type: point) is used to control the position of your agent. It refers to the center of the envelope of the shape associated with the agent."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"shape")," (type: geometry) is used to describe the geometry of your agent. If you want to use some intersection operator between agents, for instance, it is this geometry that is computed (nb: it can be totally different from the aspect you want to display for your agent!). By default, the shape is a point."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"host")," (type: agent) is used when your agent is part of another agent. We will see this concept a bit further, in the topic ",(0,s.kt)("a",{parentName:"li",href:"MultiLevelArchitecture"},"multi-level architecture"),"."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"members")," (type: list of agents) contain the agents for the population(s) of which the receiver agent is a direct host.")),(0,s.kt)("p",null,"All those built-in attributes can be accessed in both reading and writing very easily:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'species my_species {\n    init {\n        name <- "custom_name";\n    location <- {0,1};\n    shape <- rectangle(5,1);\n    }\n}\n')),(0,s.kt)("p",null,"All those built-in attributes are attributes of an agent (an instance of a species). "),(0,s.kt)("p",null,"Notice that the ",(0,s.kt)("inlineCode",{parentName:"p"},"world")," agent is also an agent! It has all the built-in attributes declared above. The world agent is defined inside the ",(0,s.kt)("inlineCode",{parentName:"p"},"global")," scope. From the ",(0,s.kt)("inlineCode",{parentName:"p"},"global")," scope then, you can for example access to the center of the envelope of the world shape:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"global\n{\n    init {\n        write location; // writes {50.0,50.0,0.0}\n    }\n}\n")),(0,s.kt)("h2",{id:"species-built-in-attributes"},"Species built-in Attributes"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Species")," have also their own attributes, which can be accessed with the following syntax (read-only) :"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"name_of_your_species.attribute_you_want\n")),(0,s.kt)("p",null,"Here is the list of those attributes:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"name"),": (type: string) returns the name of your species."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"attributes"),": (type: list of string) returns the list of the names of the attributes of your species."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"actions"),": (type: list of string) returns the list of the names of the actions defined in your species."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"aspects"),": (type: list of string) returns the list of the names of the aspects defined in your species."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"population"),": (type: list) returns the list of agents that belong to this species."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"subspecies"),": (type: list of string) returns the list of species that inherit directly from this species (we will talk about the concept of ",(0,s.kt)("a",{parentName:"li",href:"Inheritance"},"inheritance")," later)"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"parent")," (type: species) returns its parent species if it belongs to the model, or ",(0,s.kt)("inlineCode",{parentName:"li"},"nil")," otherwise (we will talk about the concept of ",(0,s.kt)("a",{parentName:"li",href:"Inheritance"},"inheritance")," later)")),(0,s.kt)("p",null,"As an example, the following code illustrates all these attributes:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"model NewModel\n\nglobal {\n    init {\n    create my_species ;\n    }\n}\n\nspecies my_species {\n    int att1;\n    \n    init {\n    create my_micro_species;\n        \n    write species(self).name;        // write in the console: my_species\n    write species(self).attributes;  \n        // write in the console: ['name','shape','location','peers','host','agents','members','att1','my_micro_species']\n    write species(self).actions;     \n        // write in the console: ['a1','a2','die','debug','_step_','tell','_init_','error','write']\n    write species(self).aspects;     \n        // write in the console: ['asp1]\n    write species(self).population;  \n        // write in the console: [my_species(0)]\n    write species(self).subspecies;  \n        // write in the console: []\n    write species(self).microspecies;\n        // write in the console: [my_micro_species]     \n    write species(self).parent;      \n        // write in the console: nil\n    }\n    \n    reflex r1 {}\n    reflex r2 {}\n    \n    action a1 {}\n    action a2 {}\n    \n    species my_micro_species {}\n    \n    aspect asp1 {}\n}\n\nexperiment name type: gui {}\n")),(0,s.kt)("h2",{id:"built-in-actions"},"Built-in actions"),(0,s.kt)("p",null,"Some actions are defined by default for a minimal agent. We already saw quickly the action ",(0,s.kt)("inlineCode",{parentName:"p"},"write"),", used to display a message in the console.\nAnother very useful built-in action is the action ",(0,s.kt)("inlineCode",{parentName:"p"},"die"),", used to destroy an agent."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'species my_species{\n    reflex being_killed {\n        do debug("I will disappear from the simulation");\n        do die;\n    }\n}\n')),(0,s.kt)("p",null,"Here is the list of the other built-in actions which you can find in the documentation: ",(0,s.kt)("inlineCode",{parentName:"p"},"debug"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"tell"),", ",(0,s.kt)("inlineCode",{parentName:"p"},"_init_"),", and ",(0,s.kt)("inlineCode",{parentName:"p"},"_step_"),"."),(0,s.kt)("p",null,"The 2 actions ",(0,s.kt)("inlineCode",{parentName:"p"},"_init_"),"and ",(0,s.kt)("inlineCode",{parentName:"p"},"_step_")," are very important, as they allow the modeler to change totally the agents' dynamics:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"when the action ",(0,s.kt)("inlineCode",{parentName:"li"},"_init_")," is defined in a species, it will be called instead of the ",(0,s.kt)("inlineCode",{parentName:"li"},"init")," block."),(0,s.kt)("li",{parentName:"ul"},"when the action ",(0,s.kt)("inlineCode",{parentName:"li"},"_step_")," is defined in a species, it will be called at each simulation step instead of the species' behaviors (e.g. instead of the reflexes blocks).")),(0,s.kt)("h2",{id:"the-init-statement"},"The init statement"),(0,s.kt)("p",null,'After declaring all the attributes of your species, you can define an initial state (before launching the simulation). It can be seen as the "constructor of the class" in OOP.'),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"species my_species {\n    int variableA;\n    init {\n    variableA <- 5;\n    }\n}\n")),(0,s.kt)("h2",{id:"the-aspect-statement"},"The aspect statement"),(0,s.kt)("p",null,"Inside each species, you can define one or several aspects. This block allows you to define how you want your species to be represented in the simulation.\nEach aspect has a special name (so that they can be called from the experiment). Once again, you can name your aspect by using the facet ",(0,s.kt)("inlineCode",{parentName:"p"},"name:"),", or simply by naming it just after the ",(0,s.kt)("inlineCode",{parentName:"p"},"aspect")," keyword."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"species my_species {\n    aspect standard_aspect {\n    }\n}\n")),(0,s.kt)("p",null,"You can then define your aspect by using the statement ",(0,s.kt)("a",{parentName:"p",href:"Statements#draw"},(0,s.kt)("inlineCode",{parentName:"a"},"draw")),". You can then choose a geometry for your aspect, an image, a text (facet ",(0,s.kt)("inlineCode",{parentName:"p"},"text"),"), and its color (facet ",(0,s.kt)("inlineCode",{parentName:"p"},"color"),")... It is common to have several ",(0,s.kt)("inlineCode",{parentName:"p"},"draw")," statement in an ",(0,s.kt)("inlineCode",{parentName:"p"},"aspect")," to enrich its display. We invite you to read the documentation about the draw statement to know more about."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"species my_species {\n    aspect standard_aspect {\n    draw circle(1) color:#blue border: #black;\n    }\n}\n")),(0,s.kt)("p",null,"In the experiment block, you have to tell the program ",(0,s.kt)("a",{parentName:"p",href:"DefiningDisplaysGeneralities"},"to display a particular species with a particular aspect")," (nb: you can also choose to display your species with several aspects in the same display). "),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"experiment my_experiment type: gui {\n    output{\n    display my_display {\n        species my_species aspect:standard_aspect;\n    }\n    }\n}\n")),(0,s.kt)("p",null,"Now there is only one thing missing to display our agent: we have to instantiate them."),(0,s.kt)("h2",{id:"instantiate-an-agent"},"Instantiate an agent"),(0,s.kt)("p",null,"As already said quickly in the last session, the instantiation of the agents is most often in the ",(0,s.kt)("inlineCode",{parentName:"p"},"init")," scope of the ",(0,s.kt)("inlineCode",{parentName:"p"},"global")," species (this is not mandatory of course. You can instantiate your agents from an action/behavior of any species). Use the statement ",(0,s.kt)("a",{parentName:"p",href:"Statements#create"},(0,s.kt)("inlineCode",{parentName:"a"},"create"))," to instantiate an agent:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"The first element given to the ",(0,s.kt)("inlineCode",{parentName:"li"},"create")," statement (i.e. the facet ",(0,s.kt)("inlineCode",{parentName:"li"},"species"),") is used to specify which species you want to instantiate. "),(0,s.kt)("li",{parentName:"ul"},"The facet ",(0,s.kt)("inlineCode",{parentName:"li"},"number")," is used to tell how many agents you want to create. "),(0,s.kt)("li",{parentName:"ul"},"The facet ",(0,s.kt)("inlineCode",{parentName:"li"},"with")," is used to specify some default values for some attributes of your instance. For example, you can specify the location.")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"global {\n    init{\n    create my_species number: 1 with: (location:{0,0},vA:8);\n    }\n}\n\n\nspecies my_species {\n    int vA;\n}\n")),(0,s.kt)("p",null,"Here is an example of a model that displays an agent with a circle aspect in the center of the environment:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"model display_one_agent\n\nglobal{\n    float worldDimension <- 50#m;\n    geometry shape <- square(worldDimension);\n\n    init{\n    point center <- {worldDimension/2,worldDimension/2};\n    create my_species number: 1 with: (location:center);\n    }\n}\n\nspecies my_species {\n    aspect standard_aspect {\n    draw circle(1#m);\n    }\n}\n\nexperiment my_experiment type:gui {\n    output{\n    display myDisplay {\n        species my_species aspect:standard_aspect;\n    }\n    }\n}\n")))}d.isMDXComponent=!0}}]);