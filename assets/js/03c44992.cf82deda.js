"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[83325],{16852(e,n,t){t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"BDIAgents_step1","title":"1. Skeleton model","description":"This first step consists in defining the skeleton model with the gold mines and the gold market.","source":"@site/../docs/BDIAgents_step1.md","sourceDirName":".","slug":"/BDIAgents_step1","permalink":"/wiki/next/BDIAgents_step1","draft":false,"unlisted":false,"editUrl":"https://github.com/gama-platform/gama/wiki/BDIAgents_step1/_edit","tags":[],"version":"current","frontMatter":{"title":"1. Skeleton model"},"sidebar":"tuto","previous":{"title":"BDI Agents","permalink":"/wiki/next/BDIAgents"},"next":{"title":"2. BDI Agents","permalink":"/wiki/next/BDIAgents_step2"}}');var l=t(74848),s=t(28453);const o={title:"1. Skeleton model"},a=void 0,r={},d=[{value:"Formulation",id:"formulation",level:2},{value:"Model Definition",id:"model-definition",level:2},{value:"species",id:"species",level:3},{value:"global variables",id:"global-variables",level:3},{value:"global init",id:"global-init",level:3},{value:"display",id:"display",level:3},{value:"Complete Model",id:"complete-model",level:2}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:"This first step consists in defining the skeleton model with the gold mines and the gold market."}),"\n",(0,l.jsx)(n.h2,{id:"formulation",children:"Formulation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Definition of the gold mine species"}),"\n",(0,l.jsx)(n.li,{children:"Definition of the market species"}),"\n",(0,l.jsx)(n.li,{children:"Creation of the gold mine and market agents"}),"\n",(0,l.jsx)(n.li,{children:"Definition of a display with the gold mines and the market"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"model-definition",children:"Model Definition"}),"\n",(0,l.jsx)(n.h3,{id:"species",children:"species"}),"\n",(0,l.jsxs)(n.p,{children:["In this first model, we have to define two species of agents: the ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"gold_mine"})})," agents and the ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"market"})})," ones. These agents will not have a particular behavior, they will just be displayed.\nFor the gold mine species, we define a new attribute: ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"quantity"})})," of type ",(0,l.jsx)(n.code,{children:"int"}),", with for initial value a random integer between 1 and 20. We also define an ",(0,l.jsx)(n.code,{children:"aspect"})," named ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"default"})})," that displays the gold mine as a triangle with a gray color if the gold mine is empty, yellow otherwise. The size of the triangle depends on the quantity of gold nuggets in the mine.\nConcerning the market species, we define a new attribute: ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"golds"})})," of type ",(0,l.jsx)(n.code,{children:"int"}),". We define as well an aspect named ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"default"})})," that displays the market as a blue square."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"species gold_mine {\n    int quantity <- rnd(1,20);\n    aspect default {\n\tdraw triangle(200 + quantity * 50) color: (quantity > 0) ? #yellow : #gray border: #black;\t\n    }\n}\n\nspecies market {\n    int golds;\n    aspect default {\n        draw square(1000) color: #black ;\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"global-variables",children:"global variables"}),"\n",(0,l.jsxs)(n.p,{children:["We define two global variables for the model: one called ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"nb_mines"})})," that will be used to define the number of mines and that will be set to 10. One call ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"the_market"})})," that will represent the market agent (that will be unique)."]}),"\n",(0,l.jsx)(n.p,{children:"In addition, we define the duration of a simulation step to 10 minutes, and we define the shape of the environment by a square with a side size of 20 kilometers."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"global {\n    int nb_mines <- 10; \n    market the_market;\n    float step <- 10#mn;\n    geometry shape <- square(20 #km);\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"global-init",children:"global init"}),"\n",(0,l.jsxs)(n.p,{children:["At the initialization of the model, we create a market agent and ",(0,l.jsx)(n.code,{children:"nb_mines"})," gold mine agents. For the market agent, we set the value of the ",(0,l.jsx)(n.code,{children:"the_market"})," agent with the created agent."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"global {\n    ...\n    init {\n        create market {\n\t    the_market <- self;\n\t}\n\tcreate gold_mine number: nb_mines;\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"display",children:"display"}),"\n",(0,l.jsxs)(n.p,{children:["We define a display to visualize the market and gold mine agents. We use for that the classic ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"species"})})," keyword. In order to optimize the display, we use an OpenGL display (facet ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"type: opengl"})}),")."]}),"\n",(0,l.jsxs)(n.p,{children:["In the ",(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"experiment"})})," block:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"output {\n    display map type: opengl {\n\tspecies market ;\n\tspecies gold_mine ;\n   }\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"complete-model",children:"Complete Model"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-gaml",metastring:"reference",children:"https://github.com/gama-platform/gama.old/blob/GAMA_1.9.2/msi.gaml.architecture.simplebdi/models/BDI%20Architecture/models/Tutorial/BDI%20tutorial%201.gaml\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453(e,n,t){t.d(n,{R:()=>o,x:()=>a});var i=t(96540);const l={},s=i.createContext(l);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);