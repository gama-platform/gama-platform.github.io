<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.9.1 plugin-docs plugin-id-default docs-doc-id-ManipulateOSMDatas">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Manipulate OSM Datas | GAMA Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gama-platform.org/resources/images/general/GamaPlatform.png"><meta data-rh="true" name="twitter:image" content="https://gama-platform.org/resources/images/general/GamaPlatform.png"><meta data-rh="true" property="og:url" content="https://gama-platform.org/wiki/ManipulateOSMDatas"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.9.1"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.9.1"><meta data-rh="true" name="docsearch:version" content="1.9.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.9.1"><meta data-rh="true" property="og:title" content="Manipulate OSM Datas | GAMA Platform"><meta data-rh="true" name="description" content="[//]: # (startConcept|useosmdatas)"><meta data-rh="true" property="og:description" content="[//]: # (startConcept|useosmdatas)"><link data-rh="true" rel="icon" href="/img/gama-logo.png"><link data-rh="true" rel="canonical" href="https://gama-platform.org/wiki/ManipulateOSMDatas"><link data-rh="true" rel="alternate" href="https://gama-platform.org/wiki/ManipulateOSMDatas" hreflang="en"><link data-rh="true" rel="alternate" href="https://gama-platform.org/wiki/ManipulateOSMDatas" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MWUOLTL2EG-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="GAMA Platform RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="GAMA Platform Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="GAMA Platform" href="/opensearch.xml">


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css">
<script src="/js/blogFacebook-iFrame.js" async></script><link rel="stylesheet" href="/assets/css/styles.85361c28.css">
<link rel="preload" href="/assets/js/runtime~main.6181a5c5.js" as="script">
<link rel="preload" href="/assets/js/main.61b823db.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/gama-logo.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/gama-logo.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">GAMA Platform</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wiki/Home">Documentation</a><a class="navbar__item navbar__link" href="/wiki/Tutorials">Tutorials</a><a class="navbar__item navbar__link" href="/wiki/Community">Community</a><a class="navbar__item navbar__link" href="/download">Download</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gama-platform/gama" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><i class="fab fa-github" style="font-size: 24px;"></i></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/Home">Home</a><button aria-label="Toggle the collapsible sidebar category &#x27;Home&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/PlatformDocumentation">Platform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Platform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/LearnGAMLStepByStep">Learn GAML step by step</a><button aria-label="Toggle the collapsible sidebar category &#x27;Learn GAML step by step&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/wiki/Recipes">Recipes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/wiki/ManipulateOSMDatas">Manipulate OSM Datas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/Diffusion">Implementing diffusion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/UsingDatabase">Using Database Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/UsingFIPAACL">Using FIPA ACL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/Using-BEN-simple-bdi">Using BEN (simple_bdi)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/UsingDrivingSkill">Advanced Driving Skill</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/ManipulateDates">Manipulate Dates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/ManipulateLight">Implementing light</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/Comodel">Using Comodel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/Save-and-restore-simulations">Save and Restore simulations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/UsingNetwork">Using network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/Headless-mode-for-dummies">Headless mode for dummies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/HeadlessTutorial">Calling gama from another program</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/Writing_Tests">Writing Unit Tests in GAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/Ensure-model-reproducibility">Ensure model&#x27;s reproducibility</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/wiki/Using-extensions">Going further with extensions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Going further with extensions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/GamlReference">GAML References</a><button aria-label="Toggle the collapsible sidebar category &#x27;GAML References&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/developingGAMA">Developing GAMA</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developing GAMA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/wiki/Recipes"><span itemprop="name">Recipes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Manipulate OSM Datas</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.9.1</span><div class="theme-doc-markdown markdown"><header><h1>Manipulate OSM Datas</h1></header><p>This section will be presented as a quick tutorial, showing how to proceed to manipulate OSM (Open street map) data, clean them and load them into GAMA. We will use the software <a href="http://www.qgis.org/en/site/" target="_blank" rel="noopener noreferrer">QGIS</a> to change the attributes of the OSM file.</p><p>Note that GAMA can read and import OpenStreetMap data natively and create agents from them. An example model is provided in the Model Library (Data Importation / OSM File Import.gaml). In this case, you will have to write a model to import, select data from OpenStreetMap before creating agents and then could export them into shapefiles, much easier to use in GAMA.</p><p>From the website <a href="https://www.openstreetmap.org/" target="_blank" rel="noopener noreferrer">openstreetmap.org</a>, we will choose a place (in this example, we will take a neighborhood in New York City). Directly from the website, you can export the chosen area in the osm format.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205202713-05373b25-0bac-48f0-82fe-0885ad95eb19.png" alt="1_getopenstreetmap" class="img_ev3q"></p><p>We have now to manipulate the attributes for the exported osm file.
Several softwares can be used, but we will focus on <a href="http://www.qgis.org/en/site/" target="_blank" rel="noopener noreferrer">QGIS</a>, which is totally free and provides a lot of possibilities in term of manipulation of data.</p><p>Once you have installed correctly QGIS, launch QGIS Desktop, and start to import the topology from the osm file.</p><p>QGis 3, the version we are using to build this tutorial, needs us to install a plugin to process files downloaded from OSM website. There are several versions of plugins allowing to do that. However, the most stable and simple one to use is QuickOSM. Go to your extension manager, select &quot;All extensions&quot; on the top left corner, look for &quot;QuickOSM&quot; extension and install it. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205202766-23d8304c-7e24-4f96-bd32-ba6bc50d2db6.png" alt="2_GetQuickOSM" class="img_ev3q"></p><p>You should now be able to use the extension QuickOSM. Open its menu by entering the vector menu on the top QGis panel, go to QuickOSM, then select :
1) OSM file
2) Browse your xml file.
3) Browse to select the folder that will welcome the processed file through QGis (select the &quot;includes&quot; folder of your current GAMA project for more efficiency).
4) Select the format you want for your processed file (in the example, ESRI shapefile will give a .shp, very well processed by GAMA afterwards).
5) Open your file. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205202856-498511cb-b9be-43e2-a099-cabdd4553422.png" alt="3_ImporAndOpentOSMfile" class="img_ev3q"></p><p>You will go back naturally to the main QGis UI and you downloaded OSM layer will be visible. </p><p>Before beginning the layer treatment process with QGis, please note that it is easier to use separated shapefiles for each entities if the objective is to use GAMA afterwards. Therefore, we recommend importing in GAMA separated shapefiles for each spatial entity you want to make appear in your model. Indeed, it is simpler to create one species for each spatial entity instead of having one species declined by different arributes. If you want to represent buildings and houses, it&#x27;s recommended to have two separated files : one for buildings and one for houses. </p><p>First, we want buildings to be isolated from the other polygons. We can use the field &#x27;building&#x27; to make an attribute selection to do that. By opening the attribute table of the file, we can check that this field exists and that every building has been attributed a &quot;yes&quot;. If other information are given, replace the information by &quot;yes&quot; to facilitate the process of selection. Once it&#x27;s done, go to the attribute selection menu on the top panel and type this in the dialogue box : &quot;building&quot; = &#x27;yes&#x27;. Click on &quot;select features&quot; once it&#x27;s done and close the window. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205202991-9de2d11f-47e0-450e-bc3b-88c9ee172faf.png" alt="5_OpenAttributes" class="img_ev3q"></p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205202999-f008cc37-9793-4ddd-b5b6-9d4472856fab.png" alt="6_CheckExistingFieldsToIsolate" class="img_ev3q"></p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203028-1d95bc00-c678-4ceb-a533-ec65b3f96ac4.png" alt="7_SelectBuildings" class="img_ev3q"></p><p>If typed correctly, QGis should understand that you want to select only polygons that are recognized as buildings. The buildings polygons should be highlighted in yellow now. Save the selected features as a new .shp file in your &quot;includes&quot; folder. We called ours &quot;OSM_For_GAMA_Buildings&quot;. The new layer which just appeared should only comprise buildings of the area. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203070-ad210146-6172-4c69-b3b6-a84ef25d3563.png" alt="8_SaveSelectedFeatures" class="img_ev3q"></p><p>Then, we can create a new field for the new buildings layer to allow a better handling in GAMA platform do differentiate colors : first, enter you attribute table of the layer. </p><p>Then, go to edit mode (the pen icon on the top left corner) and select field calculator. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203174-72bdf22c-4ab9-4625-9ec5-ce87d591abf4.png" alt="9_InAttributes" class="img_ev3q"></p><p>Stay on the left hand side, we will now set up the field&#x27;s characteristics, you can copy what you see in the screenshot bellow. Pay attention to selecting &quot;string&quot; to the field type, otherwise you won&#x27;t be able to get the proper format of attributes in the following steps of this tutorial. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203196-aa3cdc3a-db12-4fe4-99ba-8822e100eff1.png" alt="10_Creatingattr1" class="img_ev3q"></p><p>We want to create this attribute and associate to it variables that will be colors. We want to ask QGis to do that randomly on its own. Therefore, we have to provide the software a function. Go to the &quot;function editor&quot; tab, click on the &quot;+&quot; to add a new function file and write these lines down after having deleted the default help : </p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token operator" style="color:rgb(46,93,78);font-style:bold">from</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">qgis</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">core</span><span class="token plain"> </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">import</span><span class="token plain"> *</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">from</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">qgis</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">gui</span><span class="token plain"> </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">import</span><span class="token plain"> *</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">import</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">random</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">string</span><br></span><span class="token-line" style="color:#282A36"><span class="token type_statement" style="display:inline-block;color:rgb(127,0,85);font-style:bold"></span><br></span><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold"></span><span class="token plain">@</span><span class="token variable" style="color:rgb(28,125,180)">qgsfunction</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">args</span><span class="token plain">=</span><span class="token string" style="color:rgb(116,167,251)">&#x27;auto&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">group</span><span class="token plain">=</span><span class="token string" style="color:rgb(116,167,251)">&#x27;Custom&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token variable" style="color:rgb(28,125,180)">def</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">myFun</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">value1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">feature</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">parent</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">return</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">random</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">choice</span><span class="token punctuation">(</span><span class="token plain">[</span><span class="token string" style="color:rgb(116,167,251)">&quot;blue&quot;</span><span class="token punctuation">,</span><span class="token string" style="color:rgb(116,167,251)">&quot;red&quot;</span><span class="token plain">]</span><span class="token punctuation">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Save and run the function using the proper button on the bottom right corner. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203210-4926d26e-986a-4fde-8487-cb9e22c5ca94.png" alt="11_Creatingattr2" class="img_ev3q"></p><p>Then go to the expression type and call your function by typing :
<code>myFun(&#x27;attrForGam&#x27;)</code>
Click on &quot;Ok&quot; which will get you back to your attribute table : you can now check the layer&#x27;s attributes to see if the new field &#x27;attrForGam&#x27; has been filled with random values &quot;red&quot; or &quot;blue&quot;. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203225-ce473809-5493-4cf6-9ced-7d1ffc4f6f56.png" alt="12_Creatingattr3" class="img_ev3q"></p><p>When you download data from OSM website, some fields might be missing. For instance, the file we downloaded here doesn&#x27;t include the buildings&#x27; height. To give realistic aspects to our model, we want here to call another function to make QGis create a &quot;Height&quot; field and associate automatically a height to buildings between 20 and 50 meters high. You can repeat the previous steps for the &#x27;attrForGam&#x27; field to create a &#x27;Height&#x27; field using the following code :</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token operator" style="color:rgb(46,93,78);font-style:bold">from</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">qgis</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">core</span><span class="token plain"> </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">import</span><span class="token plain"> *</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">from</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">qgis</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">gui</span><span class="token plain"> </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">import</span><span class="token plain"> *</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">import</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">random</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">string</span><br></span><span class="token-line" style="color:#282A36"><span class="token type_statement" style="display:inline-block;color:rgb(127,0,85);font-style:bold"></span><br></span><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold"></span><span class="token plain">@</span><span class="token variable" style="color:rgb(28,125,180)">qgsfunction</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">args</span><span class="token plain">=</span><span class="token string" style="color:rgb(116,167,251)">&#x27;auto&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">group</span><span class="token plain">=</span><span class="token string" style="color:rgb(116,167,251)">&#x27;Custom&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token variable" style="color:rgb(28,125,180)">def</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">myFunHeight</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">value1</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">feature</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">parent</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">return</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">random</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">randrange</span><span class="token punctuation">(</span><span class="token number" style="color:rgb(125,125,125)">20</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(125,125,125)">50</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(125,125,125)">1</span><span class="token punctuation">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p> Don&#x27;t forget to call this new function in the expression tab : <code>myFunHeight(&#x27;Height&#x27;)</code>. Then, check if the new field has been added and save the modifications of your attributes. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203279-c448e2af-78b7-42ab-a808-18510629045d.png" alt="13_CheckAndSaveModifications" class="img_ev3q"></p><p>Our work on the buildings layer is done. You don&#x27;t have to save it since QGis is automatically saving the modifications you do on your files (the one we previously called &quot;OSM_For_GAMA_Buildings&quot;).
The file for buildings is now ready to be used in GAMA for modelling. We now have to take care our other polygons and lines we downloaded.</p><p>We now want to add the main natural elements to our model : parks. For this, we only have to select the few parks we have in the area thanks to the spatial selection tool provided by QGis.
To do that, you have to use the original polygons layer you downloaded to make a spatial selection of the parks.
To select several polygons using this tool, just press shift + left click on each polygons you are interested with. Before beginning the selection, locate where the parks are so that you are sure the polygons you select are the parks you want to represent.
1) Select the polygon layer.
2) Select the tool &quot;select features by area or single click&quot; on the top panel.
3) Select the right polygons using left click and pressing maj to select several polygons. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203311-d82f542e-9011-489f-aead-700006d4f701.png" alt="14_SelectParks" class="img_ev3q"></p><p>Then, save the selected polygons as a new shapefile which will only comprise parks areas. For this tutorial, we called the parks shapefile &quot;OSM_For_GAMA_Parks&quot;. </p><p>Finally, we need roads for our possible agents to travel the city. The shapefile already exists from the OSM file we downloaded. It is possible to modify it using the edition mode after selecting the lines layer, and delete the roads we don&#x27;t want. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203329-e0f0530c-a403-4786-8df8-aa51e7240a50.png" alt="15_ModifyLines" class="img_ev3q"></p><p>Don&#x27;t forget to save your layer as a .shp file in your &quot;includes&quot; folder of your current GAMA project. For this tutorial, we call the roads shapefile &quot;OSM_For_GAMA_Parks&quot;</p><p>Please note that you can repeat these steps as many times as you want according to the level of details you need in your model. As OSM provides a large possibility of land use types, we cannot go over every one of them in this tutorial. The steps are the same as the ones described above. </p><p>You can now import your three .shp files that should be in your &quot;includes&quot; folder of your current project. </p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">model</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">OSMtutorial</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">global</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">// Global variables related to the Management units </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">file </span><span class="token variable" style="color:rgb(28,125,180)">shapeFile1</span><span class="token plain"> &lt;- </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">file</span><span class="token punctuation">(</span><span class="token string" style="color:rgb(116,167,251)">&quot;../includes/OSM_For_GAMA_Buildings.shp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">file </span><span class="token variable" style="color:rgb(28,125,180)">shapeFile2</span><span class="token plain"> &lt;- </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">file</span><span class="token punctuation">(</span><span class="token string" style="color:rgb(116,167,251)">&quot;../includes/OSM_For_GAMA_Parks.shp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">file </span><span class="token variable" style="color:rgb(28,125,180)">shapeFile3</span><span class="token plain"> &lt;- </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">file</span><span class="token punctuation">(</span><span class="token string" style="color:rgb(116,167,251)">&quot;../includes/OSM_For_GAMA_Roads.shp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//definition of the environment size from the shapefile. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//Note that is possible to define it from several files by using: geometry shape &lt;- envelope(envelope(file1) + envelope(file2) + ...);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">geometry </span><span class="token variable" style="color:rgb(28,125,180)">shape</span><span class="token plain"> &lt;- </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">envelope</span><span class="token punctuation">(</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">envelope</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">shapeFile1</span><span class="token punctuation">)</span><span class="token plain"> + </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">envelope</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">shapeFile2</span><span class="token punctuation">)</span><span class="token plain"> + </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">envelope</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">shapeFile3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">init</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//Creation of Buildings agents from the shapefile (and reading some of the shapefile attributes)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">create</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">Buildings</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">from:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">shapeFile1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token facet" style="color:rgb(154,72,71)">with:</span><span class="token plain"> [</span><span class="token variable" style="color:rgb(28,125,180)">elementId</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">::</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">int</span><span class="token punctuation">(</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">read</span><span class="token punctuation">(</span><span class="token string" style="color:rgb(116,167,251)">&#x27;full_id&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">elementHeight</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">::</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">int</span><span class="token punctuation">(</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">read</span><span class="token punctuation">(</span><span class="token string" style="color:rgb(116,167,251)">&#x27;Height&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">elementColor</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">::</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">(</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">read</span><span class="token punctuation">(</span><span class="token string" style="color:rgb(116,167,251)">&#x27;attrForGam&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain">] </span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">create</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">Parks</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">from:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">shapeFile2</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">create</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">Roads</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">from:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">shapeFile3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">where</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">each</span><span class="token plain"> != </span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">nil</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">Buildings</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">int </span><span class="token variable" style="color:rgb(28,125,180)">elementId</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">int </span><span class="token variable" style="color:rgb(28,125,180)">elementHeight</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">string </span><span class="token variable" style="color:rgb(28,125,180)">elementColor</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">aspect</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">basic</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">draw</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">shape</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">color:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">elementColor</span><span class="token plain"> = </span><span class="token string" style="color:rgb(116,167,251)">&quot;blue&quot;</span><span class="token punctuation">)</span><span class="token plain"> ? </span><span class="token constant" style="color:rgb(0, 0, 0)">#blue</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">elementColor</span><span class="token plain"> = </span><span class="token string" style="color:rgb(116,167,251)">&quot;red&quot;</span><span class="token punctuation">)</span><span class="token plain"> ? </span><span class="token constant" style="color:rgb(0, 0, 0)">#red</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(0, 0, 0)">#yellow</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">depth:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">elementHeight</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">} </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">Parks</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">aspect</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">basic</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">draw</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">shape</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">color:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(0, 0, 0)">#green</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">} </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">Roads</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">aspect</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">basic</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">draw</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">shape</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">color:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(0, 0, 0)">#grey</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">width:</span><span class="token plain"> </span><span class="token number" style="color:rgb(125,125,125)">3</span><span class="token constant" style="color:rgb(0, 0, 0)">#meter</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">experiment</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">main</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">type:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">gui</span><span class="token plain"> {     </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">output</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">display</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">HowToUseOpenStreetMap</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">type:</span><span class="token variable" style="color:rgb(28,125,180)">opengl</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">       </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">Buildings</span><span class="token plain"> </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">aspect</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">basic</span><span class="token punctuation">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">       </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">Parks</span><span class="token plain"> </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">aspect</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">basic</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">       </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">Roads</span><span class="token plain"> </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">aspect</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">basic</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here is the result, with a special colorization of the different elements regarding the value of the attribute &quot;attrForGama&quot;, an elevation regarding the value of the attribute &quot;height&quot;, and basic species creation for roads and parks. </p><p><img loading="lazy" src="https://user-images.githubusercontent.com/104968829/205203411-a09549ca-0761-47ea-ba51-c78ed23af7a4.png" alt="16_FinalGAMA" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gama-platform/gama/wiki/ManipulateOSMDatas/_edit" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/wiki/Recipes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Recipes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/wiki/Diffusion"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Implementing diffusion</div></a></nav></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://github.com/gama-platform" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> Github <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://www.facebook.com/GamaPlatform/" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook"></i> Facebook <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://www.linkedin.com/company/gama-platform" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i> LinkedIn <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://www.youtube.com/channel/UCWJ1kWGDDI-9u2f2uD0gcaQ" target="_blank" rel="noopener noreferrer"><i class="fab fa-youtube"></i> Youtube <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://gama-platform.org/blog/rss.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss"></i> Blog RSS <i class="fa fa-arrow-up-right-from-square"></i></a></li></ul></div><div class="col footer__col"><div class="footer__title">Mailing list</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://groups.google.com/forum/#!forum/gama-platform" target="_blank"><i class="fas fa-envelope"></i> For Users<br>gama-platform@googlegroups.com</a></li><li class="footer__item"><a class="footer__link-item" href="https://groups.google.com/forum/#!forum/gama-dev" target="_blank"><i class="fas fa-envelope"></i> For Developers<br>gama-dev@googlegroups.com</a></li></ul></div><div class="col footer__col"><div class="footer__title">Licence</div><ul class="footer__items clean-list"><li class="footer__item">
                  <p>
                    Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
                  </p>
                </li><li class="footer__item">
                  <p>A copy of the license is included <a href="https://github.com/gama-platform/gama/wiki/LICENSE.md" style="display:initial">here</a>, in the repository of the wiki content.</p>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/gama-logo.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/gama-logo.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright (C) - 2023 GAMA Platform.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.6181a5c5.js"></script>
<script src="/assets/js/main.61b823db.js"></script>
</body>
</html>