<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Boids 3D Analysis · GAMA-Platform</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="GAMA"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Boids 3D Analysis · GAMA-Platform"/><meta property="og:type" content="website"/><meta property="og:url" content="https://gama-platform.github.io/"/><meta property="og:description" content="GAMA"/><meta property="og:image" content="https://gama-platform.github.io//resources/images/general/GamaPlatform.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://gama-platform.github.io//resources/images/general/GamaPlatform.png"/><link rel="shortcut icon" href="/img/gama-logo.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"/><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.4.4/fuse.min.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><script type="text/javascript" src="/js/searchEngine.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/gama-logo_white.png" alt="GAMA-Platform"/><h2 class="headerTitleWithLogo">GAMA-Platform</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/wiki/Home" target="_self">Documentation</a></li><li class=""><a href="/wiki/Tutorials" target="_self">Tutorials</a></li><li class=""><a href="/download" target="_self">Download</a></li><li class=""><a href="/wiki/Contribute" target="_self">Contribute</a></li><li class=""><a target="_self"></a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Boids 3D Analysis</h1></header><article><div><span><p>_Author : _</p>
<p>This model shows the movement of boids following a goal, and creating without their own volonty, a flock . Four experiments are proposed : start is the 3D display of the boids like a real world, trajectory_analysis like the name means is about the analysis of the trajectory of the boids, Space Time Cube adds two display to see the movement of the boids using the time as the z-axis, and the last one represents the differents camera available in GAMA.</p>
<p>Code of the model :</p>
<pre><code class="hljs"><span class="hljs-builtin">model</span> boids 

<span class="hljs-class">global <span class="hljs-title">torus</span>: <span class="hljs-title">torus_environment</span></span>{ 
    <span class="hljs-comment">//Number of boids to represent</span>
    <span class="hljs-literal">int</span> number_of_agents parameter: 'Number of agents' &lt;- 10 min: 1 max: 1000000;
    <span class="hljs-comment">//Number of obstacles to represent</span>
    <span class="hljs-literal">int</span> number_of_obstacles parameter: 'Number of obstacles' &lt;- 4 min: 0;
    <span class="hljs-comment">//Size of the boids</span>
    <span class="hljs-literal">int</span> boids_size parameter: 'Boids size' &lt;- 20 min: 1;
    <span class="hljs-comment">//Maximal speed allowed for the boids</span>
    <span class="hljs-literal">float</span> maximal_speed parameter: 'Maximal speed' &lt;- 15.0 min: 0.1 max: 15.0;
    <span class="hljs-comment">//Speed radius</span>
    <span class="hljs-literal">float</span>  radius_speed parameter: 'radius speed' &lt;- 0.5 min: 0.1;
    <span class="hljs-comment">//Cohesion factor of the boid group  in the range of a boid agent</span>
    <span class="hljs-literal">int</span> cohesion_factor parameter: 'Cohesion Factor' &lt;- 200;
    <span class="hljs-comment">//Alignment factor used for the boid group in the range of a boid agent</span>
    <span class="hljs-literal">int</span> alignment_factor parameter: 'Alignment Factor' &lt;- 100; 
    <span class="hljs-comment">//Minimal distance to move</span>
    <span class="hljs-literal">float</span> minimal_distance parameter: 'Minimal Distance' &lt;- 10.0; 
    <span class="hljs-comment">//Maximal turn done by the boids</span>
    <span class="hljs-literal">int</span> maximal_turn parameter: 'Maximal Turn' &lt;- 90 min: 0 max: 359; 
    
    <span class="hljs-comment">//Parameters of the environment and the simulations</span>
    <span class="hljs-literal">int</span> width_and_height_of_environment parameter: 'Width/Height of the Environment' &lt;- 800;  
    <span class="hljs-literal">bool</span> torus_environment parameter: 'Toroidal Environment ?' &lt;- false; 
    <span class="hljs-literal">bool</span> apply_cohesion &lt;- true parameter: 'Apply Cohesion ?';
    <span class="hljs-literal">bool</span> apply_alignment &lt;- true parameter: 'Apply Alignment ?';   
    <span class="hljs-literal">bool</span> apply_separation &lt;- true parameter: 'Apply Separation ?';   
    <span class="hljs-literal">bool</span> apply_goal &lt;- true parameter: 'Follow Goal ?'; 
    <span class="hljs-literal">bool</span> apply_avoid &lt;- true parameter: 'Apply Avoidance ?';   
    <span class="hljs-literal">bool</span> apply_wind &lt;- true parameter: 'Apply Wind ?';     
    <span class="hljs-literal">bool</span> moving_obstacles &lt;- false parameter: 'Moving Obstacles ?';    
    <span class="hljs-literal">int</span> bounds &lt;- <span class="hljs-literal">int</span>(width_and_height_of_environment / 20); 
    <span class="hljs-comment">//Wind vector </span>
    <span class="hljs-literal">point</span> wind_vector &lt;- {0,0} parameter: 'Direction of the wind';  
    <span class="hljs-literal">int</span> goal_duration &lt;- 30 update: (goal_duration - 1); 
    <span class="hljs-comment">//Goal location</span>
    <span class="hljs-literal">point</span> goal &lt;- {rnd (width_and_height_of_environment - 2) + 1, rnd (width_and_height_of_environment -2) + 1 }; 
    <span class="hljs-literal">list</span> images of: image_file &lt;- [<span class="hljs-literal">file</span>('../images/bird1.png'),<span class="hljs-literal">file</span>('../images/bird2.png'),<span class="hljs-literal">file</span>('../images/bird3.png')]; 
    <span class="hljs-literal">string</span> file_path_to_ocean &lt;- '../images/ocean.jpg';
    <span class="hljs-literal">int</span> xmin &lt;- bounds;    
    <span class="hljs-literal">int</span> ymin &lt;- bounds;  
    <span class="hljs-literal">int</span> xmax &lt;- (width_and_height_of_environment - bounds);    
    <span class="hljs-literal">int</span> ymax &lt;- (width_and_height_of_environment - bounds);   
    <span class="hljs-literal">geometry</span> shape &lt;- square(width_and_height_of_environment);


    <span class="hljs-comment">// flock's parameter </span>
    <span class="hljs-literal">float</span> two_boids_distance const: true init: 30.0;  
    <span class="hljs-literal">int</span> merging_distance const: true init: 30;
    <span class="hljs-literal">bool</span> create_flock  init: false;  
    
    init {
        <span class="hljs-comment">//Create the boids and place them randomlly</span>
        create boids number: number_of_agents { 
            location &lt;- {rnd (width_and_height_of_environment - 2) + 1, rnd (width_and_height_of_environment -2) + 1 };
        } 
         
         <span class="hljs-comment">//Create an obstacle and place it randomly</span>
        create obstacle number: number_of_obstacles {
            location &lt;- {rnd (width_and_height_of_environment - 2) + 1, rnd (width_and_height_of_environment -2) + 1 }; 
        }
        <span class="hljs-comment">//Create a goal and place it at the goal location</span>
        create  boids_goal number: 1 {
            location &lt;- goal;
        }
        
        create aggregatedboids;
    }
    
    <span class="hljs-comment">//Reflex to create flock of boids considering the neighbors of each boids </span>
     <span class="hljs-class">reflex <span class="hljs-title">create_flocks</span> </span>{
        <span class="hljs-keyword">if</span> create_flock {
            <span class="hljs-comment">//Create a map using a boid agent as a key and the list of all its neighbors as the value for the key</span>
            <span class="hljs-literal">map</span>&lt;boids, <span class="hljs-literal">list</span>&lt;boids&gt;&gt; potentialBoidsNeighborsMap;
            
            <span class="hljs-comment">//Search all the boids within the two boids distance from a boid agent and put them in the map</span>
            loop one_boids over: boids {
                <span class="hljs-literal">list</span>&lt;boids&gt; free_neighbors &lt;- boids overlapping (one_boids.shape + (two_boids_distance));
                remove one_boids from: free_neighbors;  

                <span class="hljs-keyword">if</span> !(empty (free_neighbors)) {
                    add (one_boids::free_neighbors) to: potentialBoidsNeighborsMap;
                } 
            }
            
            <span class="hljs-comment">//Sorting of all the boids considered as key in the map by the length of their neighbors</span>
            <span class="hljs-literal">list</span>&lt;boids&gt; sorted_free_boids &lt;- (potentialBoidsNeighborsMap.keys) sort_by (length (potentialBoidsNeighborsMap at each));
            <span class="hljs-comment">//Removing of all the boids which has been considered as a key of the map, but  which are already included in a bigger list of neighbors by one of them neighbors</span>
            loop one_boids over: sorted_free_boids {
                <span class="hljs-literal">list</span>&lt;boids&gt; one_boids_neighbors &lt;- potentialBoidsNeighborsMap at one_boids;
                
                <span class="hljs-keyword">if</span>  (one_boids_neighbors != nil) {
                    loop one_neighbor over: one_boids_neighbors {
                        remove one_neighbor from: potentialBoidsNeighborsMap; 
                    }
                }
            }
            <span class="hljs-comment">//Remove all the duplicates key of potentialBoidsNeighborsMap</span>
            <span class="hljs-literal">list</span>&lt;boids&gt; boids_neighbors &lt;- (potentialBoidsNeighborsMap.keys);
            loop one_key over: boids_neighbors {
                put (remove_duplicates (( potentialBoidsNeighborsMap at (one_key)) + one_key)) at: one_key in: potentialBoidsNeighborsMap;
            }
            
            <span class="hljs-comment">//Create a flock of boids considering the key of potentialBoidsNeighborsMap</span>
            loop one_key over: (potentialBoidsNeighborsMap.keys) {
                <span class="hljs-literal">list</span>&lt;boids&gt; micro_agents &lt;- potentialBoidsNeighborsMap at one_key;
                    
                <span class="hljs-keyword">if</span> ( (length (micro_agents)) &gt; 1 ) {
                    create flock number: 1 with: [ color::<span class="hljs-literal">rgb</span>([rnd (255), rnd (255), rnd (255)]) ] { 
                        capture micro_agents as: boids_delegation;
                    }
                }
            } 
        }
    }  
}
<span class="hljs-comment">//Species boids_goal which represents the goal followed by the boids agent, using the skill moving</span>
<span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">skills</span>: [<span class="hljs-title">moving</span>] </span>{
    <span class="hljs-literal">float</span> range const: true init: 20.0;
    <span class="hljs-literal">int</span> radius &lt;-3;
    
    <span class="hljs-comment">//Reflex to make the goal move in circle</span>
    <span class="hljs-class">reflex <span class="hljs-title">wander_in_circle</span></span>{
        
        location &lt;- {world.shape.width/2 + world.shape.width/2 * cos (time*radius_speed), world.shape.width/2 + world.shape.width/2 * sin (time*radius_speed)};
        goal &lt;- location;
    }
    
    aspect default {
        draw circle(10) color: <span class="hljs-literal">rgb</span> ('red');
        draw circle(40) color: <span class="hljs-literal">rgb</span> ('orange') size: 40 empty: true;
    }
    
    aspect sphere{
        draw sphere(10) color: <span class="hljs-literal">rgb</span>('white');
    }
} 

<span class="hljs-comment">//Species flock which represents the flock of boids agents, managing the boids agents captured</span>
<span class="hljs-class">species <span class="hljs-title">flock</span>  </span>
{
    <span class="hljs-comment">//Represent the cohesion index of the flock</span>
    <span class="hljs-literal">float</span> cohesionIndex &lt;- two_boids_distance update: (two_boids_distance + (length (members)));
    <span class="hljs-literal">rgb</span> color &lt;- <span class="hljs-literal">rgb</span> ([64, 64, 64]);
    <span class="hljs-literal">geometry</span> shape update: !(empty (members)) ? ( (polygon (members collect (boids_delegation (each)).location )) + 2.0 ) : ( polygon ([ {rnd (width_and_height_of_environment), rnd (width_and_height_of_environment)} ]) );
     
    <span class="hljs-comment">//Species that will represent the boids agents captured or inside a flock</span>
    <span class="hljs-class">species <span class="hljs-title">boids_delegation</span> <span class="hljs-title">parent</span>: <span class="hljs-title">boids</span> <span class="hljs-title">topology</span>: <span class="hljs-title">topology</span>(<span class="hljs-title">world</span>.<span class="hljs-title">shape</span>)  </span>
    {
        <span class="hljs-literal">list</span>&lt;boids&gt; others -&gt; {( (boids_delegation overlapping (shape + range))) - self};
 
        <span class="hljs-comment">//Action to compute the mass center of the flock</span>
        action compute_mass_center type: <span class="hljs-literal">point</span> 
        {
            loop o over: others 
            {
                <span class="hljs-keyword">if</span>  dead(o) 
                {
                    do write message: 'in ' + name + ' <span class="hljs-literal">agent</span> with others contains death agents'; 
                } 
            }
         
            return (length(others) &gt; 0) ? (mean (others collect (each.location)) ) : location;
        }

        <span class="hljs-class">reflex <span class="hljs-title">separation</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_separation</span> </span>{
        }
        
        <span class="hljs-class">reflex <span class="hljs-title">alignment</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_alignment</span> </span>{
        }
        <span class="hljs-comment">//Reflex to apply the cohesion on the boids agents</span>
        <span class="hljs-class">reflex <span class="hljs-title">cohesion</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_cohesion</span> </span>{
            <span class="hljs-literal">point</span> acc &lt;- (self compute_mass_center []) - location;
            acc &lt;- acc / cohesion_factor;
            velocity &lt;- velocity + acc;
        }
        
        <span class="hljs-class">reflex <span class="hljs-title">avoid</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_avoid</span> </span>{
        }       
    }
    <span class="hljs-comment">//Reflex to capture boids agents and release captured boids agents</span>
    <span class="hljs-class">reflex <span class="hljs-title">capture_release_boids</span> </span>{
         <span class="hljs-literal">list</span>&lt;boids_delegation&gt; removed_components &lt;- boids_delegation where ((each distance_to location) &gt; cohesionIndex );
         <span class="hljs-keyword">if</span> !(empty (removed_components)) {
            release removed_components;
         }
         
         <span class="hljs-literal">list</span>&lt;boids&gt; added_components &lt;- boids where ((each distance_to location) &lt; cohesionIndex );
         <span class="hljs-keyword">if</span> !(empty (added_components)) {
            capture added_components as: boids_delegation;
         }
    }
    <span class="hljs-comment">//Reflexe to kill the flock if the boids agents contained is lower than 2</span>
    <span class="hljs-class">reflex <span class="hljs-title">dispose</span> <span class="hljs-title">when</span>: ((<span class="hljs-title">length</span> (<span class="hljs-title">members</span>)) &lt; 2) </span>{
         release members;
         do die;
    }
    <span class="hljs-comment">//Reflex to merge the flocks too close from each other</span>
    <span class="hljs-class">reflex <span class="hljs-title">merge_nearby_flocks</span> </span>{
        <span class="hljs-literal">list</span>&lt;flock&gt; nearby_flocks&lt;- (flock overlapping (shape +  merging_distance));
        <span class="hljs-keyword">if</span> !(empty (nearby_flocks)) {
            nearby_flocks &lt;- nearby_flocks sort_by (length (each.members));
            flock largest_flock &lt;- nearby_flocks at ((length (nearby_flocks)) - 1);
             
            remove largest_flock from: nearby_flocks;
             
            <span class="hljs-literal">list</span>&lt;boids&gt; added_components ;
            loop one_flock over: nearby_flocks {
                release one_flock.members returns: released_boids; 
                
                loop rb over: released_boids {
                    add boids(rb) to: added_components;
                }
            }
            
            <span class="hljs-keyword">if</span> !(empty (added_components)) { 
                ask largest_flock {
                    capture added_components as: boids_delegation;
                }
            } 
         }
    }
    
    aspect default {
        draw shape color: color;
    }
}
    
<span class="hljs-comment">//Species to represent the boids aggregated</span>
<span class="hljs-class">species <span class="hljs-title">aggregatedboids</span></span>{
    <span class="hljs-class">reflex <span class="hljs-title">updateLocation</span></span>{
      location &lt;- mean (boids collect (each.location)); 
    }
    aspect base{        
        draw sphere(10) color: <span class="hljs-literal">rgb</span>('red');
    }
}
<span class="hljs-comment">//Species to represent the boids agent using the skill moving</span>
<span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">skills</span>: [<span class="hljs-title">moving</span>] </span>{
    <span class="hljs-comment">//Speed of the agent</span>
    <span class="hljs-literal">float</span> speed max: maximal_speed &lt;- maximal_speed;
    <span class="hljs-comment">//Range of movement for the neighbors</span>
    <span class="hljs-literal">float</span> range &lt;- minimal_distance * 2;
    <span class="hljs-comment">//Velocity of the agent</span>
    <span class="hljs-literal">point</span> velocity &lt;- {0,0};
    <span class="hljs-literal">float</span> hue &lt;- rnd(360) / 360;
    
    <span class="hljs-comment">//List of the neighbors boids</span>
    <span class="hljs-literal">list</span>&lt;boids&gt; others update: ((boids overlapping (circle (range)))  - self);
    
    <span class="hljs-comment">//Point of the mass center of the "flock" considered as the neighbors agents</span>
    <span class="hljs-literal">point</span> mass_center update:  (length(others) &gt; 0) ? (mean (others collect (each.location)) )  : location;
    
    <span class="hljs-comment">//Reflex to do the separation of the agents with the other boids in the minimal distance</span>
    <span class="hljs-class">reflex <span class="hljs-title">separation</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_separation</span> </span>{
        <span class="hljs-literal">point</span> acc &lt;- {0,0}; 
        loop boid over: (boids overlapping (circle(minimal_distance)))  {
            acc &lt;- acc - ((location of boid) - location);
        }  
        velocity &lt;- velocity + acc;
    }
    
    <span class="hljs-comment">//Reflex to do the alignement of the boids</span>
    <span class="hljs-class">reflex <span class="hljs-title">alignment</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_alignment</span> </span>{
        <span class="hljs-literal">point</span> acc &lt;- mean (others collect (each.velocity)) - velocity;
        velocity &lt;- velocity + (acc / alignment_factor);
    }
     
    <span class="hljs-comment">//Reflex to apply the cohesion using the mass center of the "flock"</span>
    <span class="hljs-class">reflex <span class="hljs-title">cohesion</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_cohesion</span> </span>{
        <span class="hljs-literal">point</span> acc &lt;- mass_center - location;
        acc &lt;- acc / cohesion_factor;
        velocity &lt;- velocity + acc; 
    }
    <span class="hljs-comment">//Reflex to avoid the obstacles</span>
    <span class="hljs-class">reflex <span class="hljs-title">avoid</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_avoid</span> </span>{
        <span class="hljs-literal">point</span> acc &lt;- {0,0};
        <span class="hljs-literal">list</span>&lt;obstacle&gt; nearby_obstacles &lt;- (obstacle overlapping (circle (range)) );
        loop obs over: nearby_obstacles {
            acc &lt;- acc - ((location of obs) - my (location));
        }
        velocity &lt;- velocity + acc; 
    }
    <span class="hljs-comment">//action to represent the bounding of the movement of the boids</span>
    action bounding {
        <span class="hljs-keyword">if</span>  !(torus_environment) {
            <span class="hljs-keyword">if</span>  (location.x) &lt; xmin {
                velocity &lt;- velocity + {bounds,0};
            } else <span class="hljs-keyword">if</span> (location.x) &gt; xmax {
                velocity &lt;- velocity - {bounds,0};
            }
            
            <span class="hljs-keyword">if</span> (location.y) &lt; ymin {
                velocity &lt;- velocity + {0,bounds};
            } else <span class="hljs-keyword">if</span> (location.y) &gt; ymax {
                velocity &lt;- velocity - {0,bounds};
            }
            
        }
    }
    <span class="hljs-comment">//Reflex to follow the goal </span>
    <span class="hljs-class">reflex <span class="hljs-title">follow_goal</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_goal</span> </span>{
        velocity &lt;- velocity + ((goal - location) / cohesion_factor);
    }
    <span class="hljs-comment">//Reflex to apply the wind vector</span>
    <span class="hljs-class">reflex <span class="hljs-title">wind</span> <span class="hljs-title">when</span>: <span class="hljs-title">apply_wind</span> </span>{
        velocity &lt;- velocity + wind_vector;
    }
    <span class="hljs-comment">//action to move  </span>
    action do_move {  
        <span class="hljs-keyword">if</span> (((velocity.x) as <span class="hljs-literal">int</span>) = 0) and (((velocity.y) as <span class="hljs-literal">int</span>) = 0) {
            velocity &lt;- {(rnd(4)) -2, (rnd(4)) - 2}; 
        }
        <span class="hljs-literal">point</span> old_location &lt;- location; 
        do goto target: location + velocity;
        velocity &lt;- location - old_location; 
    }
    
    <span class="hljs-comment">//Reflex to do the movement, calling both bounding and do_move actions</span>
    <span class="hljs-class">reflex <span class="hljs-title">movement</span> </span>{
        do bounding;
        do do_move;
    }
    
    aspect basic{
        draw triangle(boids_size) color:<span class="hljs-literal">rgb</span>('black');
    }
    aspect image {
        draw (images at (rnd(2))) size: boids_size rotate: heading color: <span class="hljs-literal">rgb</span>('black') ;                
    }
            
    aspect dynamicColor{
        <span class="hljs-literal">rgb</span> cc &lt;- hsb (<span class="hljs-literal">float</span>(heading)/360.0,1.0,1.0);
        draw triangle(20) size: 15 rotate: 90 + heading color: cc border:cc depth:5;
        draw name;
    }
} 

<span class="hljs-comment">//Species which represents the obstacles using the skill moving</span>
<span class="hljs-class">species <span class="hljs-title">obstacle</span> <span class="hljs-title">skills</span>: [<span class="hljs-title">moving</span>] </span>{
    <span class="hljs-literal">float</span> speed &lt;- 0.1;  
    aspect default {
        draw triangle(20) color: <span class="hljs-literal">rgb</span>('yellow') depth:5;
    }
}



<span class="hljs-class">experiment <span class="hljs-title">start</span> <span class="hljs-title">type</span>: <span class="hljs-title">gui</span> </span>{
    output {
        <span class="hljs-class">display <span class="hljs-title">RealBoids</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> <span class="hljs-title">z_fighting</span>:<span class="hljs-title">false</span> </span>{
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">aspect</span>: <span class="hljs-title">dynamicColor</span>  <span class="hljs-title">position</span>:</span>{0,0,0.1} trace: 30;
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">transparency</span>:0.2 <span class="hljs-title">position</span>:</span>{0,0,0.1};
            <span class="hljs-class">species <span class="hljs-title">obstacle</span> <span class="hljs-title">position</span>:</span>{0,0,0.1};        
        }
    }
}

<span class="hljs-class">experiment <span class="hljs-title">trajectory_analysis</span> <span class="hljs-title">type</span>: <span class="hljs-title">gui</span> </span>{
    output {
        
        <span class="hljs-class">display <span class="hljs-title">RealBoids</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> </span>{
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">aspect</span>: <span class="hljs-title">dynamicColor</span> <span class="hljs-title">transparency</span>:0.5 <span class="hljs-title">position</span>:</span>{0,0,0.1};
            <span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">aspect</span>: <span class="hljs-title">image</span> <span class="hljs-title">transparency</span>:0.5 <span class="hljs-title">position</span>:</span>{0,0,0.11};
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">transparency</span>:0.2 <span class="hljs-title">position</span>:</span>{0,0,0.1};
            <span class="hljs-class">species <span class="hljs-title">obstacle</span> <span class="hljs-title">position</span>:</span>{0,0,0.1};        
        }
                
        <span class="hljs-class">display <span class="hljs-title">AggregatedBoidsTrajectory</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span>  </span>{
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">aggregatedboids</span>  <span class="hljs-title">aspect</span>: <span class="hljs-title">base</span> <span class="hljs-title">trace</span>:100 <span class="hljs-title">fading</span>: <span class="hljs-title">true</span> ;</span>
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">aspect</span>:<span class="hljs-title">sphere</span>;       </span>
        }
    } 
}

<span class="hljs-class">experiment <span class="hljs-title">SpaceTimeCube</span> <span class="hljs-title">type</span>: <span class="hljs-title">gui</span> </span>{
    output {
        <span class="hljs-class">display <span class="hljs-title">RealBoids</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> </span>{
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">aspect</span>: <span class="hljs-title">dynamicColor</span> <span class="hljs-title">transparency</span>:0.5 <span class="hljs-title">position</span>:</span>{0,0,0.1};
            <span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">aspect</span>: <span class="hljs-title">image</span> <span class="hljs-title">transparency</span>:0.5 <span class="hljs-title">position</span>:</span>{0,0,0.11};
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">transparency</span>:0.2 <span class="hljs-title">position</span>:</span>{0,0,0.1};
            <span class="hljs-class">species <span class="hljs-title">obstacle</span> <span class="hljs-title">position</span>:</span>{0,0,0.1};        
        }
        
        <span class="hljs-class">display <span class="hljs-title">SpaceTimeCubeAll</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> </span>{
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">trace</span>:<span class="hljs-title">true</span></span>{
                draw triangle(20) size: 15 rotate: 90 + heading color: hsb (<span class="hljs-literal">float</span>(heading)/360.0,1.0,1.0) border:hsb (<span class="hljs-literal">float</span>(heading)/360.0,1.0,1.0) depth:5 at: {location.x ,location.y,location.z+time};   
            }
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">trace</span>:<span class="hljs-title">true</span></span>{
                draw sphere(10) color: <span class="hljs-literal">rgb</span>('yellow') at: {location.x ,location.y,location.z+time};
            }   
        }
                
        <span class="hljs-class">display <span class="hljs-title">SpaceTimeCubeAggregated</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> </span>{
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">aggregatedboids</span> <span class="hljs-title">trace</span>:<span class="hljs-title">true</span></span>{
                draw sphere(10) color: <span class="hljs-literal">rgb</span>('red') at: {location.x ,location.y,location.z+time}; 
            }
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">trace</span>:<span class="hljs-title">true</span></span>{
                draw sphere(10) color: <span class="hljs-literal">rgb</span>('yellow') at: {location.x ,location.y,location.z+time};
            }   
        }
    }
}

<span class="hljs-class">experiment <span class="hljs-title">MultipleView</span> <span class="hljs-title">type</span>: <span class="hljs-title">gui</span> </span>{
    output {


        <span class="hljs-class">display <span class="hljs-title">RealBoids</span>   <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> </span>{
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">boids</span> <span class="hljs-title">aspect</span>: <span class="hljs-title">image</span>  <span class="hljs-title">transparency</span>:0.5 <span class="hljs-title">position</span>:</span>{0,0,0.25};
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span> <span class="hljs-title">transparency</span>:0.2 <span class="hljs-title">position</span>:</span>{0,0,0.25};
            <span class="hljs-class">species <span class="hljs-title">obstacle</span> ;</span>
            <span class="hljs-class">species <span class="hljs-title">boids</span>  <span class="hljs-title">aspect</span>: <span class="hljs-title">dynamicColor</span> <span class="hljs-title">transparency</span>:0.2 <span class="hljs-title">position</span>:</span>{0,0,0.24};       
        }
        
        <span class="hljs-class">display <span class="hljs-title">ThirdPersonn</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> <span class="hljs-title">camera_interaction</span>:<span class="hljs-title">false</span> <span class="hljs-title">camera_pos</span>:</span>{<span class="hljs-literal">int</span>(first(boids).location.x),<span class="hljs-literal">int</span>(first(boids).location.y),250} 
        camera_look_pos:{<span class="hljs-literal">int</span>(first(boids).location.x),first(boids).location.y,0} 
        camera_up_vector:{0.0,-1.0,0.0} {
        
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">obstacle</span>;</span>
            <span class="hljs-class">species <span class="hljs-title">boids</span>  <span class="hljs-title">aspect</span>: <span class="hljs-title">dynamicColor</span> <span class="hljs-title">transparency</span>:0.2 ;</span>
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span>  <span class="hljs-title">transparency</span>:0.2;       </span>
        }
        
            
        <span class="hljs-class">display <span class="hljs-title">FirstPerson</span>  <span class="hljs-title">type</span>:<span class="hljs-title">opengl</span> <span class="hljs-title">camera_interaction</span>:<span class="hljs-title">false</span> <span class="hljs-title">camera_pos</span>:</span>{<span class="hljs-literal">int</span>(first(boids).location.x),<span class="hljs-literal">int</span>(first(boids).location.y),10} 
            camera_look_pos:{cos(first(boids).heading)*first(boids).speed+<span class="hljs-literal">int</span>(first(boids).location.x),
            sin(first(boids).heading)*first(boids).speed+<span class="hljs-literal">int</span>(first(boids).location.y),10} 
            camera_up_vector:{0.0,0.0,1.0} {    
            image 'background' <span class="hljs-literal">file</span>:file_path_to_ocean;
            <span class="hljs-class">species <span class="hljs-title">obstacle</span> ;</span>
            <span class="hljs-class">species <span class="hljs-title">boids</span>  <span class="hljs-title">aspect</span>: <span class="hljs-title">dynamicColor</span> <span class="hljs-title">transparency</span>:0.2 ;</span>
            <span class="hljs-class">species <span class="hljs-title">boids_goal</span>  <span class="hljs-title">transparency</span>:0.2;       </span>
        }
    }
}
</code></pre>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/gama-logo.png" alt="GAMA-Platform" width="66" height="58"/></a><div><h5>Networks</h5><a href="https://www.youtube.com/channel/UCWJ1kWGDDI-9u2f2uD0gcaQ" target="_blank"><i class="fab fa-youtube"></i> Youtube</a><a href="https://www.linkedin.com/company/gama-platform" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a><a href="https://twitter.com/gamaplatform" target="_blank"><i class="fab fa-twitter"></i> Twitter</a><a href="https://www.facebook.com/GamaPlatform/" target="_blank"><i class="fab fa-facebook"></i> Facebook</a></div><div><h5>Mailing list</h5><a href="https://groups.google.com/forum/#!forum/gama-platform" target="_blank"><i class="fas fa-envelope"></i> For Users<br/>gama-platform@googlegroups.com</a><a href="https://groups.google.com/forum/#!forum/gama-dev" target="_blank"><i class="fas fa-envelope"></i> For Developers<br/>gama-dev@googlegroups.com</a></div><div><h5>Ecosystem</h5><a href="https://github.com/gama-platform/gama"><i class="fab fa-github"></i> GitHub Gama</a><a href="https://github.com/gama-platform/gama.experimental"><i class="fas fa-puzzle-piece"></i> Gama Experimental Plugins</a><a href="https://github.com/gama-platform/gama.models.experimental"><i class="fas fa-scroll"></i> Gama Experimental Models</a></div></section><section class="copyright">Copyright © 2019 GAMA-Platform</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: 'undefined',
                indexName: 'undefined',
                inputSelector: '#search_input_react'
              });
            </script></body></html>