"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[64614],{28453(e,n,i){i.d(n,{R:()=>a,x:()=>o});var s=i(96540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},38238(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"RunningExperiments","title":"Running Experiments","description":"Running an experiment is the only way, in GAMA, to execute simulations on a model. Experiments can be run in different ways.","source":"@site/versioned_docs/version-1.9.3/RunningExperiments.md","sourceDirName":".","slug":"/RunningExperiments","permalink":"/wiki/1.9.3/RunningExperiments","draft":false,"unlisted":false,"editUrl":"https://github.com/gama-platform/gama/wiki/RunningExperiments/_edit","tags":[],"version":"1.9.3","frontMatter":{"title":"Running Experiments"},"sidebar":"main","previous":{"title":"Validation of Models","permalink":"/wiki/1.9.3/ValidationOfModels"},"next":{"title":"Launching Experiments from the User Interface","permalink":"/wiki/1.9.3/LaunchingExperiments"}}');var t=i(74848),r=i(28453);const a={title:"Running Experiments"},o=void 0,l={},d=[{value:"Generic knowledge to start GAMA Headless",id:"generic-knowledge-to-start-gama-headless",level:2},{value:"Bash Wrapper",id:"bash-wrapper",level:3},{value:"Java Command",id:"java-command",level:3}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"Running an experiment"})," is the only way, in GAMA, to execute simulations on a model. Experiments can be run in different ways."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["The first, and most common way, consists in ",(0,t.jsx)(n.a,{href:"LaunchingExperiments",children:"launching an experiment"})," from the Modeling perspective, using the ",(0,t.jsx)(n.a,{href:"ExperimentsUserInterface",children:"user interface"})," proposed by the simulation perspective to run simulations."]}),"\n",(0,t.jsxs)(n.li,{children:["The second way, detailed on this ",(0,t.jsx)(n.a,{href:"Launching",children:"page"}),", allows to automatically launch an experiment when opening GAMA, subsequently using the same ",(0,t.jsx)(n.a,{href:"ExperimentsUserInterface",children:"user interface"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["The last way, known as running ",(0,t.jsx)(n.a,{href:"RunningHeadless",children:"headless experiments"}),", does not make use of the user interface and allows to manipulate GAMA entirely from the command line."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"All three ways are strictly equivalent in terms of computations (with the exception of the last one omitting all the computations necessary to render simulations on displays or in the UI). They simply differ by their usage:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"The first one is heavily used when designing models or demonstrating several models."}),"\n",(0,t.jsx)(n.li,{children:"The second is intended to be used when demonstrating or experimenting a single model."}),"\n",(0,t.jsx)(n.li,{children:"The last one is useful when running large sets of simulations, especially over networks or grids of computers."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"generic-knowledge-to-start-gama-headless",children:"Generic knowledge to start GAMA Headless"}),"\n",(0,t.jsx)(n.p,{children:"There are two ways to run a GAMA experiment in headless mode: using a dedicated bash wrapper (recommended) or directly from the command line."}),"\n",(0,t.jsx)(n.h3,{id:"bash-wrapper",children:"Bash Wrapper"}),"\n",(0,t.jsxs)(n.p,{children:["The file can be found in the ",(0,t.jsx)(n.code,{children:"headless"})," directory located inside the ",(0,t.jsx)(n.a,{href:"Installation",children:"GAMA's installed folder"}),". It is named ",(0,t.jsx)(n.code,{children:"gama-headless.sh"})," on macOS and Linux, or ",(0,t.jsx)(n.code,{children:"gama-headless.bat"})," on Windows."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:" bash gama-headless.sh [m/c/t/hpc/v] $1 $2\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"with:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"$1 input parameter file : an xml file determining experiment parameters and attended outputs"}),"\n",(0,t.jsx)(n.li,{children:"$2 output directory path : a directory which contains simulation results (numerical data and simulation snapshot)"}),"\n",(0,t.jsxs)(n.li,{children:["options [-m/c/t/hpc/v]","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"-m memory : memory allocated to gama"}),"\n",(0,t.jsx)(n.li,{children:"-c : console mode, the simulation description could be written with the stdin"}),"\n",(0,t.jsx)(n.li,{children:"-t : tunneling mode, simulation description are read from the stdin, simulation results are printed out in stdout"}),"\n",(0,t.jsx)(n.li,{children:"-hpc nb_of_cores : allocate a specific number of cores for the experiment plan"}),"\n",(0,t.jsx)(n.li,{children:"-v : verbose mode. trace are displayed in the console"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["For example (using the provided sample), navigate in your terminal to the ",(0,t.jsx)(n.code,{children:"headless"})," folder inside your GAMA root folder and type:"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"bash gama-headless.sh samples/predatorPrey.xml outputHeadLess\n"})}),"\n",(0,t.jsxs)(n.p,{children:["As specified in ",(0,t.jsx)(n.strong,{children:"predatorPrey.xml"}),", this command runs the prey - predator model for 1000 steps and record a screenshot of the main display every 5 steps. The screenshots are recorded in the directory ",(0,t.jsx)(n.code,{children:"outputHeadLess"})," (under the GAMA root folder)."]}),"\n",(0,t.jsx)(n.p,{children:"Note that the current directory to run gama-headless command must be $GAMA_PATH/headless"}),"\n",(0,t.jsx)(n.h3,{id:"java-command",children:"Java Command"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"java -cp $GAMA_CLASSPATH -Xms512m -Xmx2048m -Djava.awt.headless=true org.eclipse.core.launcher.Main -application msi.gama.headless.id4 $1 $2\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["with:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"$GAMA_CLASSPATH GAMA classpath: contains the relative or absolute path of jars inside the GAMA plugin directory and jars created by users"}),"\n",(0,t.jsx)(n.li,{children:"$1 input parameter file: an XML file determining experiment parameters and attended outputs"}),"\n",(0,t.jsx)(n.li,{children:"$2 output directory path: a directory which contains simulation results (numerical data and simulation snapshot)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Note that the output directory is created during the experiment and should not exist before."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);