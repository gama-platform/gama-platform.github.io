<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-UsingDatabase">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.0">
<title data-rh="true">Using Database Access | GAMA Platform</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://gama-platform.org/resources/images/general/GamaPlatform.png"><meta data-rh="true" name="twitter:image" content="https://gama-platform.org/resources/images/general/GamaPlatform.png"><meta data-rh="true" property="og:url" content="https://gama-platform.org/wiki/next/UsingDatabase"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using Database Access | GAMA Platform"><meta data-rh="true" name="description" content="Database features of GAMA provide a set of actions on Database Management Systems (DBMS). Database features are implemented in the irit.gaml.extensions.database plug-in with these features:"><meta data-rh="true" property="og:description" content="Database features of GAMA provide a set of actions on Database Management Systems (DBMS). Database features are implemented in the irit.gaml.extensions.database plug-in with these features:"><link data-rh="true" rel="icon" href="/img/gama-logo.png"><link data-rh="true" rel="canonical" href="https://gama-platform.org/wiki/next/UsingDatabase"><link data-rh="true" rel="alternate" href="https://gama-platform.org/wiki/next/UsingDatabase" hreflang="en"><link data-rh="true" rel="alternate" href="https://gama-platform.org/wiki/next/UsingDatabase" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MWUOLTL2EG-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="GAMA Platform RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="GAMA Platform Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="GAMA Platform" href="/opensearch.xml">


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css">
<script src="/js/blogFacebook-iFrame.js" async></script><link rel="stylesheet" href="/assets/css/styles.8ecb5952.css">
<link rel="preload" href="/assets/js/runtime~main.54ad365b.js" as="script">
<link rel="preload" href="/assets/js/main.9fb40a13.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/gama-logo.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/gama-logo.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">GAMA Platform</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/wiki/next/Home">Documentation</a><a class="navbar__item navbar__link" href="/wiki/next/Tutorials">Tutorials</a><a class="navbar__item navbar__link" href="/wiki/next/Projects">Community</a><a class="navbar__item navbar__link" href="/download">Download</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/wiki/next/Home">ðŸš§ 1.9.1 ðŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/wiki/next/UsingDatabase">ðŸš§ 1.9.1 ðŸš§</a></li><li><a class="dropdown__link" href="/wiki/UsingDatabase">1.9.0</a></li><li><a class="dropdown__link" href="/wiki/1.8.2-RC2/UsingDatabase">1.8.2-RC2</a></li><li><a class="dropdown__link" href="/wiki/1.8.1/UsingDatabase">1.8.1</a></li></ul></div><a href="https://github.com/gama-platform/gama" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><i class="fab fa-github" style="font-size: 24px;"></i></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/next/Home">Home</a><button aria-label="Toggle the collapsible sidebar category &#x27;Home&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/next/PlatformDocumentation">Platform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Platform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/next/LearnGAMLStepByStep">Learn GAML step by step</a><button aria-label="Toggle the collapsible sidebar category &#x27;Learn GAML step by step&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/wiki/next/Recipes">Recipes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Recipes&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/ManipulateOSMDatas">Manipulate OSM Datas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/Diffusion">Implementing diffusion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/wiki/next/UsingDatabase">Using Database Access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/UsingFIPAACL">Using FIPA ACL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/Using-BEN-simple-bdi">Using BEN (simple_bdi)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/UsingDrivingSkill">Advanced Driving Skill</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/ManipulateDates">Manipulate Dates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/ManipulateLight">Implementing light</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/Comodel">Using Comodel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/Save-and-restore-simulations">Save and Restore simulations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/UsingNetwork">Using network</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/Headless-mode-for-dummies">Headless mode for dummies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/wiki/next/Writing_Tests">Writing Unit Tests in GAML</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/wiki/next/Using-extensions">Going further with extensions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Going further with extensions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/next/GamlReference">GAML References</a><button aria-label="Toggle the collapsible sidebar category &#x27;GAML References&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/wiki/next/developingGAMA">Developing GAMA</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developing GAMA&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->GAMA Platform<!-- --> <b>ðŸš§ 1.9.1 ðŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/wiki/UsingDatabase">latest version</a></b> (<!-- -->1.9.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/wiki/next/Recipes"><span itemprop="name">Recipes</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using Database Access</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: ðŸš§ 1.9.1 ðŸš§</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using Database Access</h1></header><p>Database features of GAMA provide a set of actions on Database Management Systems (DBMS). Database features are implemented in the irit.gaml.extensions.database plug-in with these features:</p><ul><li>Agents can execute SQL queries (create, Insert, select, update, drop, delete) to various kinds of DBMS.</li></ul><p>These features are implemented in two kinds of components: skill (<code>SQLSKILL</code>) and agent (<code>AgentDB</code>).</p><p><code>SQLSKILL</code> and <code>AgentDB</code> provide almost the same features (the same set of actions on DBMS) but with certain slight differences:</p><ul><li>An agent of species <code>AgentDB</code> will maintain a unique connection to the database during the whole simulation. The connection is thus initialized when the agent is created and destroyed when it is killed.</li><li>In contrast, an agent of a species with the <code>SQLSKILL</code> skill will open a connection each time it wants to execute a query. This means that each action will be composed of three running steps:<ul><li>Make a database connection.</li><li>Execute an SQL statement.</li><li>Close database connection.</li></ul></li></ul><blockquote><p>An agent with the <code>SQLSKILL</code> spends a lot of time to create/close the connection each time it needs to send a query; it saves the database connection (a DBMS often limits the number of simultaneous connections). In contrast, an <code>AgentDB</code> agent only needs to establish one database connection that can be used for any action. Because it does not need to create and close the database connection for each action, therefore actions of <code>AgentDB</code> agents are executed faster than the actions of <code>SQLSKILL</code> ones but we must pay a connection for each agent.</p></blockquote><p>With an inheritance agent of species <code>AgentDB</code> or an agent of a species using <code>SQLSKILL</code>, we can query data from relational database to create agents, define the environment, or analyze or store simulation results in RDBMS. The database features help us to have more flexibility in the management of simulation models and analysis of simulation results.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">â€‹</a></h2><ul><li><strong>Plug-in</strong>: <em>irit.gaml.extensions.database</em></li><li><strong>Author</strong>: TRUONG Minh Thai, Frederic AMBLARD, Benoit GAUDOU, Christophe SIBERTIN-BLANC</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-dbms">Supported DBMS<a href="#supported-dbms" class="hash-link" aria-label="Direct link to Supported DBMS" title="Direct link to Supported DBMS">â€‹</a></h2><p>The following DBMS are currently supported:</p><ul><li>SQLite</li><li>MySQL</li><li>PostgreSQL: <strong>The GIS extension needs to be installed and activated in the database.</strong></li></ul><p>Note that, MySQL and Postgres DBMSs require a dedicated server to work while SQLite only needs a file to be accessed.</p><p>All the actions are independent from the chosen DBMS. Only the connection parameters are DBMS-dependent.</p><p>We chose to implement 3 main query actions:</p><ul><li><code>select</code>: that will execute the SELECT SQL queries. It will return a result dataset.</li><li><code>insert</code>: that will execute the INSERT SQL queries. It will return the number of records that are affected by the SQL query.</li><li><code>executeUpdate</code>: that can execute any CREATE/INSERT/DROP/DELETE SQL queries (basically all the queries that do not return a dataset. It generalizes the <code>insert</code> action.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sqlskill-skill">SQLSKILL skill<a href="#sqlskill-skill" class="hash-link" aria-label="Direct link to SQLSKILL skill" title="Direct link to SQLSKILL skill">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="define-a-species-that-uses-the-sqlskill-skill">Define a species that uses the <code>SQLSKILL</code> skill<a href="#define-a-species-that-uses-the-sqlskill-skill" class="hash-link" aria-label="Direct link to define-a-species-that-uses-the-sqlskill-skill" title="Direct link to define-a-species-that-uses-the-sqlskill-skill">â€‹</a></h3><p>Example of declaration:</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">toto</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">skills:</span><span class="token plain"> [</span><span class="token variable" style="color:rgb(28,125,180)">SQLSKILL</span><span class="token plain">] {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//insert your descriptions here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Agents with such a skill can use new actions defined in the skill. All these actions need information for the database connection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="map-of-connection-parameters-for-sql">Map of connection parameters for SQL<a href="#map-of-connection-parameters-for-sql" class="hash-link" aria-label="Direct link to Map of connection parameters for SQL" title="Direct link to Map of connection parameters for SQL">â€‹</a></h3><p>In the actions defined in the <code>SQLSKILL</code>, a parameter containing the connection parameters is required. It is a map with <em>key::value</em> pairs with the following <strong>keys</strong>:</p><ul><li><code>dbtype</code> (mandatory): DBMS type value. Its value is a string. We must use &quot;mysql&quot; when we want to connect to a MySQL. That is the same for &quot;postgres&quot;, &quot;sqlite&quot; (ignore case sensitive)</li><li><code>host</code> (optional): Host name or IP address of data server. It is absent when we work with SQlite.</li><li><code>port</code> (optional): Port of connection. It is not required when we work with SQLite.</li><li><code>database</code>  (mandatory): Name of database. It is the file name including the path when we work with SQLite. </li><li><code>user</code> (optional): Username. It is not required when we work with SQLite.</li><li><code>passwd</code>  (optional): Password. It is not required when we work with SQLite.</li><li><code>srid</code> (optional): srid (Spatial Reference Identifier) corresponds to a spatial reference system. This value is specified when GAMA connects to spatial database. If it is absent then GAMA uses spatial reference system defined in <em>Preferences-&gt;External</em> configuration. </li></ul><p><strong>Example</strong>: Definitions of connection parameters</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token comment" style="color:rgb(63,127,95)">// POSTGRES connection parameter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">map </span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt;  </span><span class="token variable" style="color:rgb(28,125,180)">POSTGRES</span><span class="token plain"> &lt;- [</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><span class="token string" style="color:rgb(116,167,251)">&#x27;host&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;localhost&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;BPH&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><span class="token string" style="color:rgb(116,167,251)">&#x27;port&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;5432&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><span class="token string" style="color:rgb(116,167,251)">&#x27;user&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><span class="token string" style="color:rgb(116,167,251)">&#x27;passwd&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;abc&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">//SQLite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">map </span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt;  </span><span class="token variable" style="color:rgb(28,125,180)">SQLITE</span><span class="token plain"> &lt;- [</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;sqlite&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;../includes/meteo.db&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">// MySQL connection parameter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">map </span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt;  </span><span class="token variable" style="color:rgb(28,125,180)">MySQL</span><span class="token plain"> &lt;- [</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;host&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;localhost&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;MySQL&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(63,127,95)">// it may be a empty string</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;port&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;3306&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;user&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;root&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;passwd&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;abc&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-testconnection-test-a-connection-to-a-database">Action <code>testConnection</code>: test a connection to a database<a href="#action-testconnection-test-a-connection-to-a-database" class="hash-link" aria-label="Direct link to action-testconnection-test-a-connection-to-a-database" title="Direct link to action-testconnection-test-a-connection-to-a-database">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>testConnection</strong> (params: map <!-- -->&lt;<!-- -->string, string&gt;)</em>
The action tests the connection to a given database.</p></blockquote><ul><li><strong>Return</strong>: boolean. It is:<ul><li><code>true</code>: the agent can connect to the DBMS (to the given Database with the given name and password).</li><li><code>false</code>: the agent cannot connect (either the server is not started, the database does not exist or the user/password are not correct).</li></ul></li><li><strong>Arguments</strong>:<ul><li><code>params</code> (type = <code>map &lt;string, string&gt;</code>): map of connection parameters</li></ul></li><li><strong>Exceptions</strong>: <em>GamaRuntimeException</em></li></ul><p><strong>Example</strong>: Check a connection to a MySQL database.</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token comment" style="color:rgb(63,127,95)">// Needs to be executed in the context of an agent with the SQLSKILL skill.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">// MySQL is the connection parameters map defined above.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">testConnection</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">MySQL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">write</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;Connection is OK&quot;</span><span class="token plain"> </span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">else</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">write</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;Connection is false&quot;</span><span class="token plain"> </span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}   </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-select-select-data-from-a-database">Action <code>select</code>: select data from a database<a href="#action-select-select-data-from-a-database" class="hash-link" aria-label="Direct link to action-select-select-data-from-a-database" title="Direct link to action-select-select-data-from-a-database">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>select</strong> (params: map <!-- -->&lt;<!-- -->string, string&gt;, select: string, values: list)</em>
The action creates a connection to a DBMS and executes the select statement. If the connection or selection fails then it throws a GamaRuntimeException.</p></blockquote><ul><li><strong>Return</strong>: <code>list&lt;list&gt;</code>. If the selection succeeds, it returns a list with three elements:<ul><li>The first element is a list of column names.</li><li>The second element is a list of column types.</li><li>The third element is a data set.</li></ul></li><li><strong>Arguments</strong>:<ul><li><code>params</code> (type = map<!-- -->&lt;<!-- -->string,string&gt;): map containing the connection parameters</li><li><code>select</code> (type = string): A SQL query returning values, i.e. a SELECT query. The selection query can be a parametric query (i.e. it can contain question marks).</li><li><code>values</code> (type = list): List of values that are used to replace question marks. This is an optional parameter.</li></ul></li><li><strong>Exceptions</strong>: <em>GamaRuntimeException</em></li></ul><p><strong>Example</strong>: select data from table points.</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">map </span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt;   </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> &lt;- [</span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;sqlite&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;../includes/meteo.db&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">list</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">list</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">t</span><span class="token plain"> &lt;- </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">select</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;SELECT * FROM points ;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Example</strong>: select data from table point with question marks from table points.</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">map </span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> &lt;- [</span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;sqlite&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;../includes/meteo.db&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">list</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">list</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">t</span><span class="token plain"> &lt;- </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">select</span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                       </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">select</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;SELECT temp_min FROM points where (day&gt;? and day&lt;?);&quot;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                       </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">10</span><span class="token punctuation">,</span><span class="token number" style="color:rgb(125,125,125)">20</span><span class="token plain">] </span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-insert-insert-data-into-a-database">Action <code>insert</code>: Insert data into a database<a href="#action-insert-insert-data-into-a-database" class="hash-link" aria-label="Direct link to action-insert-insert-data-into-a-database" title="Direct link to action-insert-insert-data-into-a-database">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>insert</strong> (param: map<!-- -->&lt;<!-- -->string,string&gt;,  into:  string, columns: list<!-- -->&lt;<!-- -->string&gt;, values: list)</em>
The action creates a connection to a DBMS and executes the insert statement. If the connection or insertion fails then it throws a<em>GamaRuntimeException</em>.</p></blockquote><ul><li><strong>Return</strong>: int</li></ul><blockquote><p>If the insertion succeeds, it returns a number of records inserted by the insert.</p></blockquote><ul><li><strong>Arguments</strong>:
<em><code>params</code> (type = map<!-- -->&lt;<!-- -->string,string&gt;): map containing the connection parameters.
</em><code>into</code> (type = string): the table name.
<em><code>columns</code> (type=list<!-- -->&lt;<!-- -->string&gt;): list of column names of the table. It is an optional argument. If it is not specified then all columns of table are selected.
</em><code>values</code> (type=list): list of values that are used to insert into the table chosen columns. Hence the columns and values must have same size.</li><li><strong>Exceptions</strong>:_GamaRuntimeException</li></ul><p><strong>Example</strong>: Insert data into table registration.</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token operator" style="color:rgb(46,93,78);font-style:bold">map</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> &lt;- [</span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;sqlite&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;../../includes/Student.db&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">insert</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">           </span><span class="token variableDefinition">into</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;registration&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">           </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">102</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Mahnaz&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Fatma&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(125,125,125)">25</span><span class="token plain">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">insert</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                </span><span class="token variableDefinition">into</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;registration&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                </span><span class="token variable" style="color:rgb(28,125,180)">columns</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token string" style="color:rgb(116,167,251)">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;first&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;last&quot;</span><span class="token plain">]</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">103</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Zaid tim&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Kha&#x27;</span><span class="token plain">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">int </span><span class="token variable" style="color:rgb(28,125,180)">n</span><span class="token plain"> &lt;- </span><span class="token variable" style="color:rgb(28,125,180)">insert</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                 </span><span class="token variableDefinition">into</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;registration&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                 </span><span class="token variable" style="color:rgb(28,125,180)">columns</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token string" style="color:rgb(116,167,251)">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;first&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;last&quot;</span><span class="token plain">]</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                 </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">104</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Bill&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Clark&#x27;</span><span class="token plain">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-executeupdate-execution-update-commands">Action <code>executeUpdate</code>: Execution update commands<a href="#action-executeupdate-execution-update-commands" class="hash-link" aria-label="Direct link to action-executeupdate-execution-update-commands" title="Direct link to action-executeupdate-execution-update-commands">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>executeUpdate</strong> (param: map<!-- -->&lt;<!-- -->string,string&gt;, updateComm:  string, columns: list<!-- -->&lt;<!-- -->string&gt;, values: list)</em>
The action executeUpdate executes an update command (create/insert/delete/drop) by using the current database connection of the agent. If the database connection or the update command fails then it throws a GamaRuntimeException. Otherwise, it returns an integer value.</p></blockquote><ul><li><strong>Return</strong>: int. It returns a number of records affected by the SQL query.</li><li><strong>Arguments</strong>:<ul><li><code>params</code> (type = map<!-- -->&lt;<!-- -->string,string&gt;): map containing the connection parameters,</li><li><code>updateComm</code> (type = string): SQL query string. It may be one of the SQL commands: <em>create</em>, <em>update</em>, <em>delete</em> and <em>drop</em> with or without question marks.</li><li><code>columns</code> (type=list<!-- -->&lt;<!-- -->string&gt;):  list of column names of the table.</li><li><code>values</code> (type=list): list of values that are used to replace question marks if appropriate. This is an optional parameter.</li></ul></li><li><strong>Exceptions</strong>: <em>GamaRuntimeException</em></li></ul><p><strong>Examples</strong>: Using action <code>executeUpdate</code> to execute some SQL commands (create, insert, update, delete and drop).</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token operator" style="color:rgb(46,93,78);font-style:bold">map</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> &lt;- [</span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;sqlite&#x27;</span><span class="token punctuation">,</span><span class="token plain">  </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;../../includes/Student.db&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">// Create table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                  </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;CREATE TABLE registration&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                              + </span><span class="token string" style="color:rgb(116,167,251)">&quot;(id INTEGER PRIMARY KEY, &quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                              + </span><span class="token string" style="color:rgb(116,167,251)">&quot; first TEXT NOT NULL, &quot;</span><span class="token plain"> + </span><span class="token string" style="color:rgb(116,167,251)">&quot; last TEXT NOT NULL, &quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                              + </span><span class="token string" style="color:rgb(116,167,251)">&quot; age INTEGER);&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">// Insert into </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                  </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;INSERT INTO registration &quot;</span><span class="token plain"> + </span><span class="token string" style="color:rgb(116,167,251)">&quot;VALUES(100, &#x27;Zara&#x27;, &#x27;Ali&#x27;, 18);&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">insert</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variableDefinition">into</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;registration&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">           </span><span class="token variable" style="color:rgb(28,125,180)">columns</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token string" style="color:rgb(116,167,251)">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;first&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;last&quot;</span><span class="token plain">]</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">           </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">103</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Zaid tim&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Kha&#x27;</span><span class="token plain">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">// executeUpdate with question marks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                  </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;INSERT INTO registration &quot;</span><span class="token plain"> + </span><span class="token string" style="color:rgb(116,167,251)">&quot;VALUES(?, ?, ?, ?);&quot;</span><span class="token punctuation">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                 </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">101</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Mr&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Mme&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(125,125,125)">45</span><span class="token plain">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">//update </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">int </span><span class="token variable" style="color:rgb(28,125,180)">n</span><span class="token plain"> &lt;-  </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                          </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;UPDATE registration SET age = 30 WHERE id IN (100, 101)&quot;</span><span class="token plain"> </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">// delete</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">int </span><span class="token variable" style="color:rgb(28,125,180)">n</span><span class="token plain"> &lt;- </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                        </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;DELETE FROM registration where id=? &quot;</span><span class="token punctuation">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                        </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">101</span><span class="token plain">] </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token comment" style="color:rgb(63,127,95)">// Drop table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;DROP TABLE registration&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="agentdb">AgentDB<a href="#agentdb" class="hash-link" aria-label="Direct link to AgentDB" title="Direct link to AgentDB">â€‹</a></h2><p><code>AgentBD</code> is a built-in species, which supports behaviors that look like actions in <code>SQLSKILL</code> but differs in that it uses only one connection for several actions. It means that <code>AgentDB</code> creates a connection to the database and keeps that connection open for its later operations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="define-a-species-that-is-an-inheritance-of-agentdb">Define a species that is an inheritance of <code>AgentDB</code><a href="#define-a-species-that-is-an-inheritance-of-agentdb" class="hash-link" aria-label="Direct link to define-a-species-that-is-an-inheritance-of-agentdb" title="Direct link to define-a-species-that-is-an-inheritance-of-agentdb">â€‹</a></h3><p>Example of declaration:</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">agtDB</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">parent:</span><span class="token plain"> </span><span class="token variableDefinition">AgentDB</span><span class="token plain"> {  </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//insert your descriptions here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">} </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-connect-connect-to-a-database">Action <code>connect</code>: Connect to a database<a href="#action-connect-connect-to-a-database" class="hash-link" aria-label="Direct link to action-connect-connect-to-a-database" title="Direct link to action-connect-connect-to-a-database">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>connect</strong> (params: map<!-- -->&lt;<!-- -->string,string&gt;)</em>
This action makes a connection to the database. If a connection is established then it will assign the connection object into a built-in attribute of the species (conn) otherwise it throws a GamaRuntimeException.</p></blockquote><ul><li><strong>Return</strong>: connection</li><li><strong>Arguments</strong>:<ul><li><code>params</code> (type = map<!-- -->&lt;<!-- -->string,string&gt;): map containing the connection parameters</li></ul></li><li><strong>Exceptions</strong>: GamaRuntimeException</li></ul><p><strong>Example</strong>: Connect to PostgreSQL</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token comment" style="color:rgb(63,127,95)">// POSTGRES connection parameter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">map </span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt;  </span><span class="token variable" style="color:rgb(28,125,180)">POSTGRES</span><span class="token plain"> &lt;- [</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;host&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;localhost&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;BPH&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;port&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;5433&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;user&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;passwd&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;abc&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">agtDB</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">      </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">connect</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">POSTGRES</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-isconnected-check-whether-an-agent-is-connected-to-a-database">Action <code>isConnected</code>: Check whether an agent is connected to a database<a href="#action-isconnected-check-whether-an-agent-is-connected-to-a-database" class="hash-link" aria-label="Direct link to action-isconnected-check-whether-an-agent-is-connected-to-a-database" title="Direct link to action-isconnected-check-whether-an-agent-is-connected-to-a-database">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>isConnected</strong> (params: map<!-- -->&lt;<!-- -->string,string&gt;)</em>
This action checks if an agent is connected to a database.</p></blockquote><ul><li><strong>Return</strong>: Boolean.  If the agent is connected to a database then isConnected returns true; otherwise it returns false.</li><li><strong>Arguments</strong>:<ul><li><code>params</code> (type = map<!-- -->&lt;<!-- -->string,string&gt;): map containing the connection parameters</li></ul></li></ul><p><strong>Example</strong>: Check whether the agents agtDB are connected.</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">agtDB</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">isConnected</span><span class="token punctuation">)</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">              </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">write</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;It already has a connection&quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">else</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">              </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">connect</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">POSTGRES</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        } </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-close-close-the-current-connection">Action <code>close</code>: Close the current connection<a href="#action-close-close-the-current-connection" class="hash-link" aria-label="Direct link to action-close-close-the-current-connection" title="Direct link to action-close-close-the-current-connection">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>close</strong></em>
This action closes the current database connection of the current agent. If the agent does not have any database connection then it throws a GamaRuntimeException.</p></blockquote><p><strong>Example</strong>: close the connection of all the agtDB agents.</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">agtDB</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">isConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">          </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">close</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="action-getparameter-get-connection-parameters">Action <code>getParameter</code>: Get connection parameters<a href="#action-getparameter-get-connection-parameters" class="hash-link" aria-label="Direct link to action-getparameter-get-connection-parameters" title="Direct link to action-getparameter-get-connection-parameters">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>getParameter</strong></em>
This action returns the connection parameters of the current agent.</p></blockquote><ul><li><strong>Return</strong>: <code>map&lt;string,string&gt;</code></li></ul><p><strong>Example</strong>:</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">agtDB</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">isConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">write</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;the connection parameter: &quot;</span><span class="token plain"> +</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">getParameter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-connection-parameters">Set connection parameters<a href="#set-connection-parameters" class="hash-link" aria-label="Direct link to Set connection parameters" title="Direct link to Set connection parameters">â€‹</a></h3><p><strong>Syntax</strong>:</p><blockquote><p><em><strong>setParameter</strong> (params: map<!-- -->&lt;<!-- -->string,string&gt;)</em>
This action sets new values for connection parameters and closes the current connection of the agent. If it can not close the current connection then it will throw GamaRuntimeException. If the species wants to make the connection to database with the new values then action <code>connect</code> must be called.</p></blockquote><ul><li><strong>Return</strong>: null</li><li><strong>Arguments</strong>:<ul><li><code>params</code> (type = map<!-- -->&lt;<!-- -->string,string&gt;): map containing the connection parameters</li></ul></li><li><strong>Exceptions</strong>: <em>GamaRuntimeException</em></li></ul><p><strong>Example</strong>:</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">agtDB</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">isConnected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">             </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">setParameter</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">MySQL</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">             </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">connect</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">getParameter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieve-data-from-a-database-by-using-agentdb">Retrieve data from a database by using <code>AgentDB</code><a href="#retrieve-data-from-a-database-by-using-agentdb" class="hash-link" aria-label="Direct link to retrieve-data-from-a-database-by-using-agentdb" title="Direct link to retrieve-data-from-a-database-by-using-agentdb">â€‹</a></h3><p>Because <code>AgentDB</code>&#x27;s connection to the database is kept alive, it can execute several SQL queries using only the <code>connect</code> action once. Hence <code>AgentDB</code> can do actions such as <code>select</code>, <code>insert</code>, <code>executeUpdate</code> with the same parameters as those of <code>SQLSKILL</code> <em>except for the <strong>params</strong> parameter which is always absent</em>.</p><p><strong>Examples</strong>:</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token operator" style="color:rgb(46,93,78);font-style:bold">map</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> &lt;- [</span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;sqlite&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;../../includes/Student.db&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"></span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">agtDB</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">connect</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token comment" style="color:rgb(63,127,95)">// Create table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;CREATE TABLE registration&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    + </span><span class="token string" style="color:rgb(116,167,251)">&quot;(id INTEGER PRIMARY KEY, &quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        + </span><span class="token string" style="color:rgb(116,167,251)">&quot; first TEXT NOT NULL, &quot;</span><span class="token plain"> + </span><span class="token string" style="color:rgb(116,167,251)">&quot; last TEXT NOT NULL, &quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        + </span><span class="token string" style="color:rgb(116,167,251)">&quot; age INTEGER);&quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token comment" style="color:rgb(63,127,95)">// Insert into </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;INSERT INTO registration &quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        + </span><span class="token string" style="color:rgb(116,167,251)">&quot;VALUES(100, &#x27;Zara&#x27;, &#x27;Ali&#x27;, 18);&quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">insert</span><span class="token plain"> </span><span class="token variableDefinition">into</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;registration&quot;</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">columns</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token string" style="color:rgb(116,167,251)">&quot;id&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;first&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;last&quot;</span><span class="token plain">]</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">         </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">103</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Zaid tim&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Kha&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token comment" style="color:rgb(63,127,95)">// executeUpdate with question marks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;INSERT INTO registration VALUES(?, ?, ?, ?);&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">101</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Mr&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&#x27;Mme&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(125,125,125)">45</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token comment" style="color:rgb(63,127,95)">//select</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">list</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">list</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">t</span><span class="token plain"> &lt;- </span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">select</span><span class="token punctuation">(</span><span class="token string" style="color:rgb(116,167,251)">&quot;SELECT * FROM registration;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token comment" style="color:rgb(63,127,95)">//update </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">int </span><span class="token variable" style="color:rgb(28,125,180)">n</span><span class="token plain"> &lt;- </span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;UPDATE registration SET age = 30 WHERE id IN (100, 101)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token comment" style="color:rgb(63,127,95)">// delete</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">int </span><span class="token variable" style="color:rgb(28,125,180)">n</span><span class="token plain"> &lt;- </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;DELETE FROM registration where id=? &quot;</span><span class="token punctuation">,</span><span class="token plain">  </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token number" style="color:rgb(125,125,125)">101</span><span class="token plain">] </span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token comment" style="color:rgb(63,127,95)">// Drop table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;DROP TABLE registration&quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-database-features-to-define-the-environment-and-create-agents">Using database features to define the environment and create agents<a href="#using-database-features-to-define-the-environment-and-create-agents" class="hash-link" aria-label="Direct link to Using database features to define the environment and create agents" title="Direct link to Using database features to define the environment and create agents">â€‹</a></h2><p>In GAMA, it is possible to initialize the simulations from data stored in a database: we can use the results of the <code>select</code> action of <code>SQLSKILL</code> or <code>AgentDB</code> to create agents or to define the boundary of the environment in the same way we do with shape files. Further more, we can also save simulation data that are generated by the simulation including geometry data.</p><p>Note that GAMA only supports PostGIS and MySQL as spatial DBMS.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="define-the-boundary-of-the-environment-from-the-database">Define the boundary of the environment from the database<a href="#define-the-boundary-of-the-environment-from-the-database" class="hash-link" aria-label="Direct link to Define the boundary of the environment from the database" title="Direct link to Define the boundary of the environment from the database">â€‹</a></h3><ul><li><p><strong>Step 1</strong>: specify the SELECT query by declaring a map object with keys as below:</p><ul><li><code>dbtype</code> (mandatory): DBMS type value. Its value is a string. We must use &quot;mysql&quot; when we want to connect to a MySQL. That is the same for &quot;postgres&quot;, &quot;sqlite&quot; (ignore case sensitive)</li><li><code>host</code> (optional): Host name or IP address of data server.</li><li><code>port</code> (optional): Port of connection. </li><li><code>database</code>  (mandatory): Name of database.  </li><li><code>user</code> (optional): Username. </li><li><code>passwd</code>  (optional): Password. </li><li><code>srid</code> (optional): srid (Spatial Reference Identifier) corresponds to a spatial reference system. This value is specified when GAMA connects to spatial database. If it is absent then GAMA uses spatial reference system defined in <em>Preferences-&gt;External</em> configuration. </li><li><code>select</code> (mandatory): selection query.</li></ul></li></ul><p><strong>Example</strong>:</p><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token operator" style="color:rgb(46,93,78);font-style:bold">map</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">BOUNDS</span><span class="token plain"> &lt;- [  </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//&#x27;srid&#x27;::&#x27;32648&#x27;,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;host&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;localhost&#x27;</span><span class="token punctuation">,</span><span class="token plain">                                </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;spatial_DB&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;port&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;5433&#x27;</span><span class="token punctuation">,</span><span class="token plain">                             </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token string" style="color:rgb(116,167,251)">&#x27;user&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;passwd&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;tmt&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;select&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;SELECT ST_AsBinary(geom) as geom FROM bounds;&#x27;</span><span class="token plain"> ]</span><span class="token punctuation">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Step 2</strong>: define the boundary of the environment by using the map object defined in the first step (in the <code>global</code> block of the model).</li></ul><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">geometry </span><span class="token variable" style="color:rgb(28,125,180)">shape</span><span class="token plain"> &lt;- </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">envelope</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">BOUNDS</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note: We can do the same way if we work with MySQL and we must convert Geometry format in GIS database to binary format.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-agents-from-the-result-of-a-select-action">Create agents from the result of a <code>select</code> action<a href="#create-agents-from-the-result-of-a-select-action" class="hash-link" aria-label="Direct link to create-agents-from-the-result-of-a-select-action" title="Direct link to create-agents-from-the-result-of-a-select-action">â€‹</a></h3><p>If we are familiar with how to create agents from a shapefile then it becomes very simple to create agents from datbase data. We can do as below:</p><ul><li><strong>Step 1</strong>: Define a species with <code>SQLSKILL</code> or <code>AgentDB</code></li></ul><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">DB_accessor</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">skills:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">SQLSKILL</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//insert your descriptions here </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}   </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Step 2</strong>: Define a connection and selection parameters</li></ul><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">global</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">map</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> &lt;- [  </span><span class="token comment" style="color:rgb(63,127,95)">//&#x27;srid&#x27;::&#x27;32648&#x27;, // optional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;host&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;localhost&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgis&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;spatial_db&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;port&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;5432&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;user&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;passwd&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">string </span><span class="token variable" style="color:rgb(28,125,180)">QUERY</span><span class="token plain"> &lt;- </span><span class="token string" style="color:rgb(116,167,251)">&quot;SELECT type, ST_AsEWKB(geom) as geom FROM buildings;&quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}      </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Step 3</strong>: Create species by using selected results</li></ul><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">init</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">create</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">DB_accessor</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">create</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">buildings</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">from:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">select</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">QUERY</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                 </span><span class="token facet" style="color:rgb(154,72,71)">with:</span><span class="token plain">[ </span><span class="token variable" style="color:rgb(28,125,180)">nature</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&quot;type&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">shape</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&quot;geom&quot;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token punctuation">..</span><span class="token punctuation">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="save-geometry-data-to-database">Save Geometry data to database<a href="#save-geometry-data-to-database" class="hash-link" aria-label="Direct link to Save Geometry data to database" title="Direct link to Save Geometry data to database">â€‹</a></h3><p>Saving agents in a database will be simply a set of insertion into the database. We can do as below:</p><ul><li><strong>Step 1</strong>: Define a species with SQLSKILL or AgentDB</li></ul><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token type_statement" style="color:rgb(127,0,85);font-style:bold">species </span><span class="token variable" style="color:rgb(28,125,180)">DB_accessor</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">skills:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">SQLSKILL</span><span class="token plain"> {  </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token comment" style="color:rgb(63,127,95)">//insert your descriptions here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">} </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Step 2</strong>: Define a connection and create GIS database and tables</li></ul><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">global</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">map</span><span class="token plain">&lt;</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token punctuation">,</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">string</span><span class="token plain">&gt; </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> &lt;-  [</span><span class="token comment" style="color:rgb(63,127,95)">//&#x27;srid&#x27;::&#x27;4326&#x27;, // optional</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;host&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;localhost&#x27;</span><span class="token punctuation">,</span><span class="token string" style="color:rgb(116,167,251)">&#x27;dbtype&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token string" style="color:rgb(116,167,251)">&#x27;database&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;spatial_db&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                    </span><span class="token string" style="color:rgb(116,167,251)">&#x27;port&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;5432&#x27;</span><span class="token punctuation">,</span><span class="token string" style="color:rgb(116,167,251)">&#x27;user&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;postgres&#x27;</span><span class="token punctuation">,</span><span class="token string" style="color:rgb(116,167,251)">&#x27;passwd&#x27;</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token string" style="color:rgb(116,167,251)">&#x27;&#x27;</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">init</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">       </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">create</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">DB_accessor</span><span class="token plain"> </span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">       </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">DB_accessor</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">self</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">testConnection</span><span class="token punctuation">(</span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain">{</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">               </span><span class="token comment" style="color:rgb(63,127,95)">// create GIS database   </span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">           </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">              </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;CREATE DATABASE spatial_db with TEMPLATE = template_postgis;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">           </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">remove</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">key:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;database&quot;</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">from:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">           </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">put</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;spatial_db&quot;</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">key:</span><span class="token string" style="color:rgb(116,167,251)">&quot;database&quot;</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">in:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                   </span><span class="token comment" style="color:rgb(63,127,95)">//create table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">executeUpdate</span><span class="token plain"> </span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                  </span><span class="token variable" style="color:rgb(28,125,180)">updateComm</span><span class="token plain"> </span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;CREATE TABLE buildings &quot;</span><span class="token plain">+</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                  </span><span class="token string" style="color:rgb(116,167,251)">&quot;( &quot;</span><span class="token plain">  +</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                   </span><span class="token string" style="color:rgb(116,167,251)">&quot; name character varying(255), &quot;</span><span class="token plain"> + </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                       </span><span class="token string" style="color:rgb(116,167,251)">&quot; type character varying(255), &quot;</span><span class="token plain"> + </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                       </span><span class="token string" style="color:rgb(116,167,251)">&quot; geom GEOMETRY &quot;</span><span class="token plain"> + </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                                   </span><span class="token string" style="color:rgb(116,167,251)">&quot;)&quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">            }</span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">else</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">            </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">write</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;Connection to MySQL can not be established &quot;</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">            }   </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><strong>Step 3</strong>: Insert geometry data to the GIS database</li></ul><div class="language-gaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#282A36;--prism-background-color:#FFFFFF"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-gaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#282A36"><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">building</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">ask</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">DB_Accessor</span><span class="token plain"> {</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">    </span><span class="token statement" style="color:rgb(127,0, 85);font-style:bold">do</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">insert</span><span class="token punctuation">(</span><span class="token facet" style="color:rgb(154,72,71)">params:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(28,125,180)">PARAMS</span><span class="token punctuation">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">                  </span><span class="token variableDefinition">into</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;buildings&quot;</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">          </span><span class="token variable" style="color:rgb(28,125,180)">columns</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token string" style="color:rgb(116,167,251)">&quot;name&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(116,167,251)">&quot;type&quot;</span><span class="token punctuation">,</span><span class="token string" style="color:rgb(116,167,251)">&quot;geom&quot;</span><span class="token plain">]</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">          </span><span class="token variable" style="color:rgb(28,125,180)">values</span><span class="token punctuation">:</span><span class="token plain"> [</span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">myself</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">name</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">myself</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">type</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 0);font-style:italic">myself</span><span class="token operator" style="color:rgb(46,93,78);font-style:bold">.</span><span class="token variable" style="color:rgb(28,125,180)">shape</span><span class="token plain">]</span><span class="token punctuation">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#282A36"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/gama-platform/gama/wiki/UsingDatabase/_edit" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/wiki/next/Diffusion"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Implementing diffusion</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/wiki/next/UsingFIPAACL"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using FIPA ACL</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#supported-dbms" class="table-of-contents__link toc-highlight">Supported DBMS</a></li><li><a href="#sqlskill-skill" class="table-of-contents__link toc-highlight">SQLSKILL skill</a><ul><li><a href="#define-a-species-that-uses-the-sqlskill-skill" class="table-of-contents__link toc-highlight">Define a species that uses the <code>SQLSKILL</code> skill</a></li><li><a href="#map-of-connection-parameters-for-sql" class="table-of-contents__link toc-highlight">Map of connection parameters for SQL</a></li><li><a href="#action-testconnection-test-a-connection-to-a-database" class="table-of-contents__link toc-highlight">Action <code>testConnection</code>: test a connection to a database</a></li><li><a href="#action-select-select-data-from-a-database" class="table-of-contents__link toc-highlight">Action <code>select</code>: select data from a database</a></li><li><a href="#action-insert-insert-data-into-a-database" class="table-of-contents__link toc-highlight">Action <code>insert</code>: Insert data into a database</a></li><li><a href="#action-executeupdate-execution-update-commands" class="table-of-contents__link toc-highlight">Action <code>executeUpdate</code>: Execution update commands</a></li></ul></li><li><a href="#agentdb" class="table-of-contents__link toc-highlight">AgentDB</a><ul><li><a href="#define-a-species-that-is-an-inheritance-of-agentdb" class="table-of-contents__link toc-highlight">Define a species that is an inheritance of <code>AgentDB</code></a></li><li><a href="#action-connect-connect-to-a-database" class="table-of-contents__link toc-highlight">Action <code>connect</code>: Connect to a database</a></li><li><a href="#action-isconnected-check-whether-an-agent-is-connected-to-a-database" class="table-of-contents__link toc-highlight">Action <code>isConnected</code>: Check whether an agent is connected to a database</a></li><li><a href="#action-close-close-the-current-connection" class="table-of-contents__link toc-highlight">Action <code>close</code>: Close the current connection</a></li><li><a href="#action-getparameter-get-connection-parameters" class="table-of-contents__link toc-highlight">Action <code>getParameter</code>: Get connection parameters</a></li><li><a href="#set-connection-parameters" class="table-of-contents__link toc-highlight">Set connection parameters</a></li><li><a href="#retrieve-data-from-a-database-by-using-agentdb" class="table-of-contents__link toc-highlight">Retrieve data from a database by using <code>AgentDB</code></a></li></ul></li><li><a href="#using-database-features-to-define-the-environment-and-create-agents" class="table-of-contents__link toc-highlight">Using database features to define the environment and create agents</a><ul><li><a href="#define-the-boundary-of-the-environment-from-the-database" class="table-of-contents__link toc-highlight">Define the boundary of the environment from the database</a></li><li><a href="#create-agents-from-the-result-of-a-select-action" class="table-of-contents__link toc-highlight">Create agents from the result of a <code>select</code> action</a></li><li><a href="#save-geometry-data-to-database" class="table-of-contents__link toc-highlight">Save Geometry data to database</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://github.com/gama-platform" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> Github <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://www.facebook.com/GamaPlatform/" target="_blank" rel="noopener noreferrer"><i class="fab fa-facebook"></i> Facebook <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://www.linkedin.com/company/gama-platform" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i> LinkedIn <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://www.youtube.com/channel/UCWJ1kWGDDI-9u2f2uD0gcaQ" target="_blank" rel="noopener noreferrer"><i class="fab fa-youtube"></i> Youtube <i class="fa fa-arrow-up-right-from-square"></i></a></li><li class="footer__item"><a class="footer__link-item" href="https://gama-platform.org/blog/rss.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss"></i> Blog RSS <i class="fa fa-arrow-up-right-from-square"></i></a></li></ul></div><div class="col footer__col"><div class="footer__title">Mailing list</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://groups.google.com/forum/#!forum/gama-platform" target="_blank"><i class="fas fa-envelope"></i> For Users<br>gama-platform@googlegroups.com</a></li><li class="footer__item"><a class="footer__link-item" href="https://groups.google.com/forum/#!forum/gama-dev" target="_blank"><i class="fas fa-envelope"></i> For Developers<br>gama-dev@googlegroups.com</a></li></ul></div><div class="col footer__col"><div class="footer__title">Licence</div><ul class="footer__items clean-list"><li class="footer__item">
                  <p>
                    Permission is granted to copy, distribute and/or modify this document under the terms of the GNU Free Documentation License, Version 1.3 or any later version published by the Free Software Foundation; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
                  </p>
                </li><li class="footer__item">
                  <p>A copy of the license is included <a href="https://github.com/gama-platform/gama/wiki/LICENSE.md" style="display:initial">here</a>, in the repository of the wiki content.</p>
                </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/gama-logo.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/gama-logo.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></div><div class="footer__copyright">Copyright (C) - 2023 GAMA Platform.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.54ad365b.js"></script>
<script src="/assets/js/main.9fb40a13.js"></script>
</body>
</html>