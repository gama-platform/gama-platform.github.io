"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[50057],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>f});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=s(n),d=r,f=u["".concat(p,".").concat(d)]||u[d]||c[d]||o;return n?a.createElement(f,i(i({ref:t},m),{},{components:n})):a.createElement(f,i({ref:t},m))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},78616:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var a=n(87462),r=n(63366),o=(n(67294),n(3905)),i=["components"],l={title:"Developing Operators"},p=void 0,s={unversionedId:"DevelopingOperators",id:"DevelopingOperators",title:"Developing Operators",description:"Operators in the GAML language are used to compose complex expressions. An operator performs a function on one, two, or n operands (which are other expressions and thus may be themselves composed of operators) and returns the result of this function. Developing a new operator allows, then, to add a new function to GAML.",source:"@site/../docs/DevelopingOperators.md",sourceDirName:".",slug:"/DevelopingOperators",permalink:"/wiki/next/DevelopingOperators",draft:!1,editUrl:"https://github.com/gama-platform/gama/wiki/DevelopingOperators/_edit",tags:[],version:"current",frontMatter:{title:"Developing Operators"},sidebar:"side",previous:{title:"Developing Statements",permalink:"/wiki/next/DevelopingStatements"},next:{title:"Developing Types",permalink:"/wiki/next/DevelopingTypes"}},m={},u=[{value:"Implementation",id:"implementation",level:2},{value:"Annotations",id:"annotations",level:2},{value:"@operator",id:"operator",level:3},{value:"@doc",id:"doc",level:3}],c={toc:u};function d(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"Operators"},"Operators")," in the GAML language are used to compose complex expressions. An operator performs a function on one, two, or n operands (which are other expressions and thus may be themselves composed of operators) and returns the result of this function. Developing a new operator allows, then, to add a new function to GAML."),(0,o.kt)("h2",{id:"implementation"},"Implementation"),(0,o.kt)("p",null,"A new operator can be ",(0,o.kt)("strong",{parentName:"p"},"any Java method")," that:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"begins by the ",(0,o.kt)("a",{parentName:"li",href:"DevelopingIndexAnnotations#@operator"},"@operator")," (other fields can be added to the annotation): ",(0,o.kt)("inlineCode",{parentName:"li"},'@operator(value = "name_of_the_operator_gaml")'),",")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'@operator(value = "rgb")\npublic static GamaColor rgb(final int r, final int g, final int b, final double alpha) {    \n')),(0,o.kt)("p",null,"The method:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"must return a value (that has to be one of the GAMA Type: Integer, Double, Boolean, String, IShape, IList, IGraph, IAgent...),"),(0,o.kt)("li",{parentName:"ul"},"can define any number of parameters, defined using Java type,"),(0,o.kt)("li",{parentName:"ul"},"can be either static or non-static:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"in the case it is static, the number of parameters (except an IScope attribute) of the method is equal to the number of operands of the GAML operator."),(0,o.kt)("li",{parentName:"ul"},"in the case it is not static, a first operand is added to the operator with the type of the current class."))),(0,o.kt)("li",{parentName:"ul"},"can have a IScope parameter, that will be taken into account as operand of the operator.")),(0,o.kt)("h2",{id:"annotations"},"Annotations"),(0,o.kt)("h3",{id:"operator"},"@operator"),(0,o.kt)("p",null,'This annotation represents an "operator" in GAML, and is used to define its name(s) as well as some meta-data that will be used during the validation process.'),(0,o.kt)("p",null,"This annotation contains:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"value")," (set of string, empty by default): ",(0,o.kt)("em",{parentName:"li"},"names of the operator"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"content","_","type")," (integer) : ",(0,o.kt)("em",{parentName:"li"},"if the operator returns a container, type of elements contained in the container")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"can","_","be","_","const")," (boolean, false by default): ",(0,o.kt)("em",{parentName:"li"},"if true: if the operands are constant, returns a constant value"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"category")," (set of string, empty by default): ",(0,o.kt)("em",{parentName:"li"},"categories to which the operator belong (for documentation purpose)"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"doc")," (set of @doc, empty by default): ",(0,o.kt)("em",{parentName:"li"},"the documentation attached to this operator."))),(0,o.kt)("h3",{id:"doc"},"@doc"),(0,o.kt)("p",null,"It provides a unified way of attaching documentation to the various GAML elements tagged by the other annotations. The documentation is automatically assembled at compile time and also used at runtime in GAML editors."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"value"),' (String, "" by default): ',(0,o.kt)("em",{parentName:"li"},"a String representing the documentation of a GAML element"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"deprecated"),' (String, "" by default): ',(0,o.kt)("em",{parentName:"li"},"a String indicating (if it is not empty) that the element is deprecated and defining, if possible, what to use instead"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"returns"),' (String, "" by default): ',(0,o.kt)("em",{parentName:"li"},"the documentation concerning the value(s) returned by this element (if any)."),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"comment"),' (String, "" by default): ',(0,o.kt)("em",{parentName:"li"},"an optional comment that will appear differently from the documentation itself"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"special","_","cases")," (set of Strings, empty by default): ",(0,o.kt)("em",{parentName:"li"},'an array of String representing the documentation of the "special cases" in which the documented element takes part'),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"examples")," (set of Strings, empty by default): ",(0,o.kt)("em",{parentName:"li"},"an array of String representing some examples or use-cases about how to use this element"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"see")," (set of Strings, empty by default): ",(0,o.kt)("em",{parentName:"li"},"an array of String representing cross-references to other elements in GAML"),".")),(0,o.kt)("p",null,"All these annotations are defined in the ",(0,o.kt)("inlineCode",{parentName:"p"},"GamlAnnotations.java")," file of the ",(0,o.kt)("inlineCode",{parentName:"p"},"msi.gama.processor")," plug-in."))}d.isMDXComponent=!0}}]);