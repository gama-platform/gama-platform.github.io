"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[29058],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=i.createContext({}),l=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return i.createElement(c.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=a,d=u["".concat(c,".").concat(m)]||u[m]||h[m]||r;return n?i.createElement(d,o(o({ref:t},p),{},{components:n})):i.createElement(d,o({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},27498:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>u});var i=n(87462),a=n(63366),r=(n(67294),n(3905)),o=["components"],s={title:"Inheritance"},c=void 0,l={unversionedId:"Inheritance",id:"Inheritance",title:"Inheritance",description:"[//]: # (startConcept|inheritance)",source:"@site/../docs/Inheritance.md",sourceDirName:".",slug:"/Inheritance",permalink:"/wiki/next/Inheritance",draft:!1,editUrl:"https://github.com/gama-platform/gama/wiki/Inheritance/_edit",tags:[],version:"current",frontMatter:{title:"Inheritance"},sidebar:"main",previous:{title:"Attaching Skills",permalink:"/wiki/next/AttachingSkills"},next:{title:"Defining advanced species",permalink:"/wiki/next/DefiningAdvancedSpecies"}},p={},u=[{value:"Index",id:"index",level:2},{value:"Mother species/child species",id:"mother-specieschild-species",level:2},{value:"Virtual action",id:"virtual-action",level:2},{value:"Get all the subspecies from a species",id:"get-all-the-subspecies-from-a-species",level:2}],h={toc:u},m="wrapper";function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)(m,(0,i.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"As for many object-oriented programming languages, inheritance can be used in GAML. It is used to structure better your code when you have some complex models. It is, for example, useful when you have defined two different species with many attributes and behaviors in common: you can factorize everything in common in a ",(0,r.kt)("strong",{parentName:"p"},"parent")," species, and let in the ",(0,r.kt)("strong",{parentName:"p"},"child species")," only the differences between these 2 species. Notice that behaviors and actiond defined in a parent species can be redefined in a children species, in order to code a difference in terms of behavior, or simply execute the action of the parent and complete it with some other statements."),(0,r.kt)("h2",{id:"index"},"Index"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#mother-species-/-child-species"},"Mother species / child species")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#virtual-actions"},"Virtual actions")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#get-all-the-subspecies-from-a-species"},"Get all the subspecies from a species"))),(0,r.kt)("h2",{id:"mother-specieschild-species"},"Mother species/child species"),(0,r.kt)("p",null,"To make a species inherit from a mother species, you have to add the facet ",(0,r.kt)("inlineCode",{parentName:"p"},"parent"),", and specify the mother species."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"species mother_species { }\n\nspecies child_species parent: mother_species { }\n")),(0,r.kt)("p",null,"Thus, all the attributes, actions and reflex of the mother species are inherited to the child species."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"species mother_species {\n    int attribute_A;\n    action action_A {}\n}\n\nspecies child_species parent: mother_species {\n    init {\n    attribute_A <- 5;\n    do action_A;\n    }\n}\n")),(0,r.kt)("p",null,"If the mother species has a particular skill, its children will inherit all the attributes and actions."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"species mother_species skills:[moving] { }\n\nspecies child_species parent:mother_species {\n    init {\n    speed <- 2.0;\n    }\n    reflex update {\n    do wander;\n    }\n}\n")),(0,r.kt)("p",null,"You can redefine an action or a reflex by declaring an action or a reflex with the same name."),(0,r.kt)("p",null,"In the redefined action, it is common to call the action of the mother species with some specific parameters or to add more computations. To this purpose, you need to use:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"invoke")," instead of ",(0,r.kt)("inlineCode",{parentName:"li"},"do")," to call an action (procedure) of the mother species."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"super.action_name()")," to call  an action (function) of the mother species.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'species animal {\n    int age <- 0;\n    \n    action grow {\n    age <- age + 1;\n    }\n    \n    int get_age {\n    return age;\n    }\n}\n\nspecies cat parent: animal {\n    action grow {\n    invoke grow();   // call the action growth of the mother species animal\n    write "I am a cat and I grow up";\n    }\n    \n    int get_age {\n    return super.get_age() * 7;  // call the action get_age from the mother species animal\n                                     // 1 year is 7 year for cats\n    }\n}\n')),(0,r.kt)("h2",{id:"virtual-action"},"Virtual action"),(0,r.kt)("p",null,"You have also the possibility to declare a virtual action in the mother species, which means an action without implementation, by using the facet ",(0,r.kt)("inlineCode",{parentName:"p"},"virtual"),". Note that, when using ",(0,r.kt)("inlineCode",{parentName:"p"},"virtual")," facet, the statement has to start by ",(0,r.kt)("inlineCode",{parentName:"p"},"action")," and not a return type. If the action is expecting to return a value you need to add the ",(0,r.kt)("inlineCode",{parentName:"p"},"type")," facet:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"action virtual_action virtual: true;\n\naction vistual_action_with_return_value virtual: true type: any_type;\n")),(0,r.kt)("p",null,"When you declare an action as virtual in a species, this species becomes abstract, which means you cannot instantiate agent from it. All the children of this species have to implement this virtual action."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"species virtual_mother_species {\n    action my_action virtual:true;\n}\n\nspecies child_species parent: virtual_mother_species {\n    action my_action {\n    // some statements\n    }\n}\n")),(0,r.kt)("h2",{id:"get-all-the-subspecies-from-a-species"},"Get all the subspecies from a species"),(0,r.kt)("p",null,"If you declare a ",(0,r.kt)("inlineCode",{parentName:"p"},"mother")," species, you create a ",(0,r.kt)("inlineCode",{parentName:"p"},"child")," agent, then ",(0,r.kt)("inlineCode",{parentName:"p"},"mother")," will return the population of agents ",(0,r.kt)("inlineCode",{parentName:"p"},"mother")," and ",(0,r.kt)("strong",{parentName:"p"},"not")," the population of agents ",(0,r.kt)("inlineCode",{parentName:"p"},"child"),", as it is shown in the following example: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"global {\n    init {\n        create child number: 2;\n        create mother number: 1;\n    }\n    reflex update {\n        write length(mother); // will write 1 and not 3\n    }\n}\n\nspecies mother {}\n\nspecies child parent: mother {}\n")),(0,r.kt)("p",null,"We remind you that ",(0,r.kt)("inlineCode",{parentName:"p"},"subspecies")," is a built-in attribute of the agent. Using this attribute, you can easily get all the subspecies agents of the mother species by writing the following GAML function: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"global\n{\n    init {\n        create child number: 2;\n        create mother number: 1;\n    }\n    reflex update {\n        write length(get_all_instances(mother)); // will write 3 (1+2)\n    }\n    list<agent> get_all_instances(species<agent> spec) {\n        return spec.population +  spec.subspecies accumulate (get_all_instances(each));\n    }\n}\n\nspecies mother {}\n\nspecies child parent: mother {}\n")),(0,r.kt)("p",null,"The operator ",(0,r.kt)("inlineCode",{parentName:"p"},"of_generic_species")," can also be used to filter a list of agents and get all the agents of a given species or of its children species. As a consequence, in the previous example, to count all the agents of ",(0,r.kt)("inlineCode",{parentName:"p"},"mother")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"child")," species you can only write:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"write length(agents of_generic_species mother);\n")))}d.isMDXComponent=!0}}]);