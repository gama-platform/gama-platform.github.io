"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[12707],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),m=p(a),d=i,k=m["".concat(l,".").concat(d)]||m[d]||h[d]||o;return a?n.createElement(k,s(s({ref:t},c),{},{components:a})):n.createElement(k,s({ref:t},c))}));function k(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=a.length,s=new Array(o);s[0]=d;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[m]="string"==typeof e?e:i,s[1]=r;for(var p=2;p<o;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},44044:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>p,toc:()=>m});var n=a(87462),i=a(63366),o=(a(67294),a(3905)),s=["components"],r={title:"Using FIPA ACL"},l=void 0,p={unversionedId:"UsingFIPAACL",id:"version-1.8.2-RC1/UsingFIPAACL",title:"Using FIPA ACL",description:"GAMA allows modelers to provide agents the capability to communicate with other agents using FIPA Communication Acts (such as inform, request, call for proposal...) and Interaction Protocols (such Contract Net Interaction Protocol, Request Interaction Protocol).",source:"@site/versioned_docs/version-1.8.2-RC1/UsingFIPAACL.md",sourceDirName:".",slug:"/UsingFIPAACL",permalink:"/wiki/1.8.2-RC1/UsingFIPAACL",draft:!1,editUrl:"https://github.com/gama-platform/gama/wiki/UsingFIPAACL/_edit",tags:[],version:"1.8.2-RC1",frontMatter:{title:"Using FIPA ACL"},sidebar:"side",previous:{title:"Using Database Access",permalink:"/wiki/1.8.2-RC1/UsingDatabase"},next:{title:"Using BEN (simple_bdi)",permalink:"/wiki/1.8.2-RC1/Using-BEN-simple-bdi"}},c={},m=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Main steps to create a conversation using FIPA Communication Acts and Interaction Protocols",id:"main-steps-to-create-a-conversation-using-fipa-communication-acts-and-interaction-protocols",level:2},{value:"Attach the <code>fipa</code> skill to a species",id:"attach-the-fipa-skill-to-a-species",level:2},{value:"Initiate a conversation",id:"initiate-a-conversation",level:2},{value:"Receive messages",id:"receive-messages",level:2},{value:"Reply to a received message",id:"reply-to-a-received-message",level:2},{value:"End a conversation",id:"end-a-conversation",level:2},{value:"The <code>message</code> type",id:"the-message-type",level:2},{value:"The <code>conversation</code> data type",id:"the-conversation-data-type",level:2}],h={toc:m};function d(e){var t=e.components,a=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"GAMA allows modelers to provide agents the capability to communicate with other agents using ",(0,o.kt)("a",{parentName:"p",href:"http://www.fipa.org/"},"FIPA")," Communication Acts (such as inform, request, call for proposal...) and ",(0,o.kt)("a",{parentName:"p",href:"http://www.fipa.org/repository/ips.php3"},"Interaction Protocols")," (such ",(0,o.kt)("a",{parentName:"p",href:"http://www.fipa.org/specs/fipa00029/index.html"},"Contract Net Interaction Protocol"),", ",(0,o.kt)("a",{parentName:"p",href:"http://www.fipa.org/specs/fipa00026/index.html"},"Request Interaction Protocol"),")."),(0,o.kt)("p",null,"To add these capabilities to the chosen species, the modeler needs to attach the ",(0,o.kt)("inlineCode",{parentName:"p"},"fipa")," ",(0,o.kt)("a",{parentName:"p",href:"AttachingSkills"},"skill"),": it adds to agents of the species some additional attributes (e.g. the list of messages received) and available actions (e.g. the possibility to send messages given the chosen Communication Act). "),(0,o.kt)("p",null,"The exhaustive list of available Communication Acts and Interaction Protocols is available from the technical description of the ",(0,o.kt)("a",{parentName:"p",href:"BuiltInSkills#fipa"},(0,o.kt)("inlineCode",{parentName:"a"},"fipa")," skill page"),".\nExamples can be found in the model library bundled with GAMA (",(0,o.kt)("inlineCode",{parentName:"p"},"Plugin models / FIPA Skill"),")."),(0,o.kt)("h2",{id:"table-of-contents"},"Table of Contents"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"UsingFIPAACL#main-steps-to-create-a-conversation-using-fipa-communication-acts-and-interaction-protocols"},"Main steps to create a conversation using FIPA Communication Acts and Interaction Protocols")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"UsingFIPAACL#initiate-a-conversation"},"Attach the fipa skill to a species")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"UsingFIPAACL#initiate-a-conversation"},"Initiate a conversation")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"UsingFIPAACL#receive-messages"},"Receive messages")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"UsingFIPAACL#reply-to-a-received-message"},"Reply to a received message")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"UsingFIPAACL#the-message-data-type"},"The ",(0,o.kt)("inlineCode",{parentName:"a"},"message")," data type")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"UsingFIPAACL#the-conversation-data-type"},"The ",(0,o.kt)("inlineCode",{parentName:"a"},"conversation")," data type"))),(0,o.kt)("h2",{id:"main-steps-to-create-a-conversation-using-fipa-communication-acts-and-interaction-protocols"},"Main steps to create a conversation using FIPA Communication Acts and Interaction Protocols"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Attach the skill ",(0,o.kt)("inlineCode",{parentName:"li"},"fipa")," to the agents' species that need to use Communication Acts "),(0,o.kt)("li",{parentName:"ol"},"An initiator agent starts a conversation with some agents: it chooses the Interaction Protocol and starts it by sending the first Communication Acts of the protocol"),(0,o.kt)("li",{parentName:"ol"},"Each agent involved in the conversation needs to check its received messages and respond to them by choosing the appropriate Communication Act.")),(0,o.kt)("h2",{id:"attach-the-fipa-skill-to-a-species"},"Attach the ",(0,o.kt)("inlineCode",{parentName:"h2"},"fipa")," skill to a species"),(0,o.kt)("p",null,"To attach the ",(0,o.kt)("inlineCode",{parentName:"p"},"fipa")," skill to a species, the modeler has to add it in the ",(0,o.kt)("inlineCode",{parentName:"p"},"skills")," facet of  the ",(0,o.kt)("inlineCode",{parentName:"p"},"species")," statement (",(0,o.kt)("a",{parentName:"p",href:"AttachingSkills"},"in a way similar to any other skill"),")."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"species any_species skills: [fipa] {\n   ...\n}\n")),(0,o.kt)("p",null,"Agents of any species can communicate in the same conversation. The only constraint is that they need to have the capabilities to receive and send messages, i.e. to have the skill ",(0,o.kt)("inlineCode",{parentName:"p"},"fipa"),"."),(0,o.kt)("p",null,"Species can have several attached skills: a single species can be provided with both the ",(0,o.kt)("inlineCode",{parentName:"p"},"moving")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"fipa")," skills (and any other ones)."),(0,o.kt)("p",null,"This skill adds to every agent of the species:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"some additional attributes:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"conversations")," is the list of the agent's current conversations, "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"mailbox")," is the list of messages of all types of performatives, "),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"requests"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"informs"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"proposes"),"... are respectively the list of the 'request', 'inform', 'propose' performative messages."))),(0,o.kt)("li",{parentName:"ul"},"some additional actions, such as:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"inform"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"accept_proposal"),"... that replies a message with an 'inform' (respectively 'accept_proposal' performative message)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"start_conversation")," that starts a conversation with a chosen interaction protocol."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"end_conversation")," that replies a message with an 'end_conversation' performative message. This message marks the end of a conversation. In a 'no-protocol' conversation, it is the responsibility of the modeler to explicitly send this message to mark the end of a conversation/interaction protocol."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"reply")," that replies a message. This action should be only used to reply a message in a 'no-protocol' conversation and with a 'user-defined performative'. For performatives supported by GAMA, please use the 'action' with the same name as the 'performative'. For example, to reply a message with a 'request' performative message, the modeler should use the 'request' action.")))),(0,o.kt)("h2",{id:"initiate-a-conversation"},"Initiate a conversation"),(0,o.kt)("p",null,"An interaction using an Interaction Protocol starts with the creation of a conversation by an agent, using the ",(0,o.kt)("inlineCode",{parentName:"p"},"start_conversation")," action."),(0,o.kt)("p",null,"The modeler specifies the chosen ",(0,o.kt)("strong",{parentName:"p"},"protocol")," (facet ",(0,o.kt)("inlineCode",{parentName:"p"},"protocol"),"), ",(0,o.kt)("strong",{parentName:"p"},"list of participants")," (facet ",(0,o.kt)("inlineCode",{parentName:"p"},"to"),"), ",(0,o.kt)("strong",{parentName:"p"},"communication act")," (facet ",(0,o.kt)("inlineCode",{parentName:"p"},"performative"),") and ",(0,o.kt)("strong",{parentName:"p"},"message")," (facet ",(0,o.kt)("inlineCode",{parentName:"p"},"contents"),")."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"species Initiator skills: [fipa] {\n    reflex send_propose_message when: (time = 1) {\n        do start_conversation to: [p] protocol: 'fipa-propose' performative: 'propose' contents: ['Go swimming?'] ;\n    }\n")),(0,o.kt)("h2",{id:"receive-messages"},"Receive messages"),(0,o.kt)("p",null,"Each agent (with the ",(0,o.kt)("inlineCode",{parentName:"p"},"fipa"),' skill) is provided with several "mailbox" attributes filtering the various received messages by communication act: e.g. ',(0,o.kt)("inlineCode",{parentName:"p"},"proposes"),' contains the list of the received messages with the "Propose" communication act. '),(0,o.kt)("p",null,"Receiving a message consists thus in looking at each message from the mailbox, and acting in accordance with its contents, participants..."),(0,o.kt)("p",null,"Important remark: once the ",(0,o.kt)("inlineCode",{parentName:"p"},"contents")," field of a received message has been read, it is removed from all the lists it appears in."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"species Initiator skills: [fipa] {  \n    reflex read_accept_proposals when: !(empty(accept_proposals)) {\n        write name + ' receives accept_proposal messages';\n        loop i over: accept_proposals {\n            write 'accept_proposal message with content: ' + string(i.contents);\n        }\n    }\n}\n\nspecies Participant skills: [fipa] {\n    reflex accept_proposal when: !(empty(proposes)) {\n        message proposalFromInitiator <- proposes at 0;\n        \n        do accept_proposal message: proposalFromInitiator contents: ['OK! It \\'s hot today!'] ;\n    }\n}\n")),(0,o.kt)("p",null,"Remark: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To test that the agent has received a new message is simply done by testing whether the dedicated mailing box contains messages."),(0,o.kt)("li",{parentName:"ul"},"To get a message, the modeler can either loop over the message list to get all the messages or get a message by its index in the message box.")),(0,o.kt)("h2",{id:"reply-to-a-received-message"},"Reply to a received message"),(0,o.kt)("p",null,"Given the message it has received, an agent can reply using the appropriate Communication Act (using the appropriate action).\nIt simply has to specify the message to which it replies and the content of the reply."),(0,o.kt)("p",null,"Note that it does not need to specify the receiver as it is contained in the message."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"species Participant skills: [fipa] {\n    reflex accept_proposal when: !(empty(proposes)) {\n        message proposalFromInitiator <- proposes at 0;\n        \n        do accept_proposal message: proposalFromInitiator contents: ['OK! It \\'s hot today!'] ;\n    }\n}\n")),(0,o.kt)("h2",{id:"end-a-conversation"},"End a conversation"),(0,o.kt)("p",null,"When a conversation is made in the scope of an Interaction Protocol, it is ended automatically when the last Communicative Act has been sent."),(0,o.kt)("p",null,"In the case of a 'no-protocol conversation', it is the responsibility of the modeler to explicitly send the ",(0,o.kt)("inlineCode",{parentName:"p"},"end_conversation")," message to mark the end of a conversation/interaction protocol."),(0,o.kt)("p",null,"When a conversation ends, it is automatically removed from the list ",(0,o.kt)("inlineCode",{parentName:"p"},"conversations"),".   "),(0,o.kt)("h2",{id:"the-message-type"},"The ",(0,o.kt)("inlineCode",{parentName:"h2"},"message")," type"),(0,o.kt)("p",null,"The agents' mailbox is defined as a list of messages. Each message is a GAML object of type ",(0,o.kt)("inlineCode",{parentName:"p"},"message"),". An exhaustive description of this type is provided in the dedicated ",(0,o.kt)("a",{parentName:"p",href:"DataTypes#message"},"GAML Data Types page"),"."),(0,o.kt)("p",null,"A ",(0,o.kt)("inlineCode",{parentName:"p"},"message")," object is defined by a set of several fields, such as:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"contents")," (type ",(0,o.kt)("inlineCode",{parentName:"li"},"unknown"),"): the content of the message"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"sender"),"  (type ",(0,o.kt)("inlineCode",{parentName:"li"},"unknown"),"): the sender of the message. In the case where the sender is an agent, it is possible to get the corresponding agent with ",(0,o.kt)("inlineCode",{parentName:"li"},"agent(m.sender)")," (where ",(0,o.kt)("inlineCode",{parentName:"li"},"m")," is the considered message)."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"unread")," (type ",(0,o.kt)("inlineCode",{parentName:"li"},"bool"),"): specify whether the message has been read."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"emission_timestamp")," (type ",(0,o.kt)("inlineCode",{parentName:"li"},"int"),")"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"recention_timestamp")," (type ",(0,o.kt)("inlineCode",{parentName:"li"},"int"),")")),(0,o.kt)("h2",{id:"the-conversation-data-type"},"The ",(0,o.kt)("inlineCode",{parentName:"h2"},"conversation")," data type"),(0,o.kt)("p",null,"The agents' ",(0,o.kt)("inlineCode",{parentName:"p"},"conversations")," contain the list of the conversations in which the agent takes part.  Each conversation is a GAML object of type ",(0,o.kt)("inlineCode",{parentName:"p"},"conversation")," that contains the list of messages exchanged, the protocol, initiator... An exhaustive description of this type is provided in the dedicated ",(0,o.kt)("a",{parentName:"p",href:"DataTypes#conversation"},"GAML Data Types page"),"."),(0,o.kt)("p",null,"A ",(0,o.kt)("inlineCode",{parentName:"p"},"conversation")," object is defined by a set of several fields, such as:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"messages")," (type = list of messages): the list of messages that compose this conversation"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"protocol")," (type = string): the name of the protocol followed by the conversation"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"initiator")," (type = agent): the agent that has initiated this conversation"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"participants")," (type = list of agents): the list of agents that participate in this conversation"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"ended")," (type = bool): whether this conversation has ended or not")))}d.isMDXComponent=!0}}]);